!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/cococo",o(o.s=78)}([function(e,t,o){"use strict";e.exports=o(79)},function(e,t){e.exports=vendor_19dcb43a348424cab493},function(e,t,o){e.exports=o(1)(182)},function(e,t,o){e.exports=o(1)(0)},function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(o(39)),c=r(o(15)),i=r(o(42)),s=r(o(94)),l=r(o(95)),u=r(o(98)),d=r(o(10)),f=r(o(47)),p=r(o(48)),y=r(o(16)),h=o(15);t.EditorTool=h.EditorTool;var g,m,v=o(12);t.Note=v.Note,t.api=a.default,t.editor=c.default,t.generator=i.default,t.interactions=s.default,t.keyboard=l.default,t.layout=u.default,t.logging=d.default,t.masks=f.default,t.player=p.default,t.undo=y.default,(g=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(g.register(r,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/core/index.ts"),g.register(a,"api_1","/Users/andycoenen/cannoneyed/cococonet/src/core/index.ts"),g.register(c,"editor_1","/Users/andycoenen/cannoneyed/cococonet/src/core/index.ts"),g.register(i,"generator_1","/Users/andycoenen/cannoneyed/cococonet/src/core/index.ts"),g.register(s,"interactions_1","/Users/andycoenen/cannoneyed/cococonet/src/core/index.ts"),g.register(l,"keyboard_1","/Users/andycoenen/cannoneyed/cococonet/src/core/index.ts"),g.register(u,"layout_1","/Users/andycoenen/cannoneyed/cococonet/src/core/index.ts"),g.register(d,"logging_1","/Users/andycoenen/cannoneyed/cococonet/src/core/index.ts"),g.register(f,"masks_1","/Users/andycoenen/cannoneyed/cococonet/src/core/index.ts"),g.register(p,"player_1","/Users/andycoenen/cannoneyed/cococonet/src/core/index.ts"),g.register(y,"undo_1","/Users/andycoenen/cannoneyed/cococonet/src/core/index.ts")),(m=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&m(e)}).call(this,o(2)(e))},function(e,t,o){e.exports=o(1)(5906)},function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);var r,a,c,i;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;Object.defineProperty(t,"__esModule",{value:!0}),t.MIDDLE_C=60,t.BOTTOM_A=33,t.N_NOTE_DIVISIONS=16,t.MIN_PITCH=36,t.MAX_PITCH=82,t.NOTE_VELOCITY=79,t.DEFAULT_BPM=80,t.TOTAL_SIXTEENTHS=32,t.SOUNDFONT_URL="https://storage.googleapis.com/magentadata/js/soundfonts/sgm_plus",t.MODEL_URL="https://storage.googleapis.com/magentadata/js/checkpoints/coconet/bach",t.DIVISIONS=[4,8,12,16,20,24,28],t.DEFAULT_NOTES=[],t.DEFAULT_EDITOR_WIDTH=1200,t.DEFAULT_SEQUENCES_WIDTH=200,t.PIANO_ROLL_WIDTH=24,t.NOTE_HEIGHT=12,t.MASK_LANE_HEIGHT=20,t.LOOP_HANDLE_HEIGHT=25,t.LOOP_HANDLE_MARGIN=0,t.VOICES=["SOPRANO","ALTO","TENOR","BASS"],t.MIN_SURPRISE_FACTOR=-3,t.MAX_SURPRISE_FACTOR=1,function(e){e[e.VerySimilar=0]="VerySimilar",e[e.Similar=1]="Similar",e[e.SomewhatDifferent=2]="SomewhatDifferent",e[e.Different=3]="Different",e[e.VeryDifferent=4]="VeryDifferent"}(r=t.DifferenceFromOriginal||(t.DifferenceFromOriginal={})),t.MIN_DIFFERENCE_FACTOR=r.VerySimilar,t.MAX_DIFFERENCE_FACTOR=r.VeryDifferent,t.MIN_HAPPY_SAD_FACTOR=-1.2,t.MAX_HAPPY_SAD_FACTOR=1.2,function(e){e[e.SAD=-1]="SAD",e[e.NEUTRAL=0]="NEUTRAL",e[e.HAPPY=1]="HAPPY"}(a=t.Mood||(t.Mood={})),t.HAPPY_SAD_MARKS=[{value:a.SAD},{value:a.NEUTRAL},{value:a.HAPPY}],t.KEY_NAMES=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],t.MODE_NAMES=["major","minor","harmonic minor"],(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(c.register(r,"DifferenceFromOriginal","/Users/andycoenen/cannoneyed/cococonet/src/core/constants.ts"),c.register(a,"Mood","/Users/andycoenen/cannoneyed/cococonet/src/core/constants.ts")),(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&i(e)}).call(this,o(2)(e))},function(e,t,o){e.exports=o(1)(5911)},function(e,t,o){e.exports=o(1)(37)},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i,s,l=c(o(89)),u=o(8),d=function(){function e(){this.id="cococo",this.variant="a",this.logging="console";var e=l.default.parse(window.location.search),t=e.variant,o=e.logging,n=e.id;"b"===t&&(this.variant=t),"firebase"!==o&&"sheets"!==o||(this.logging=o),n&&(this.id=""+n)}return Object.defineProperty(e.prototype,"baseline",{get:function(){return"b"===this.variant},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firebaseLogging",{get:function(){return"firebase"===this.logging},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sheetsLogging",{get:function(){return"sheets"===this.logging},enumerable:!0,configurable:!0}),a([u.observable],e.prototype,"id",void 0),a([u.observable],e.prototype,"variant",void 0),a([u.computed],e.prototype,"baseline",null),a([u.observable],e.prototype,"logging",void 0),a([u.computed],e.prototype,"firebaseLogging",null),a([u.computed],e.prototype,"sheetsLogging",null),e}();t.FeatureFlags=d,t.default=new d,(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(i.register(a,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/core/feature-flags.ts"),i.register(c,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/core/feature-flags.ts"),i.register(l,"query_string_1","/Users/andycoenen/cannoneyed/cococonet/src/core/feature-flags.ts"),i.register(d,"FeatureFlags","/Users/andycoenen/cannoneyed/cococonet/src/core/feature-flags.ts")),(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&s(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,c=r(o(39)),i=r(o(9)),s=o(43);!function(e){e.APP_LOAD="APP_LOAD",e.DRAW_NOTE="DRAW_NOTE",e.DELETE_NOTE="DELETE_NOTE",e.DELETE_MASKED_NOTES="DELETE_MASKED_NOTES",e.MOVE_NOTE="MOVE_NOTE",e.PLAY="PLAY",e.STOP="STOP",e.UNDO="UNDO",e.REDO="REDO",e.SELECT_TOOL="SELECT_TOOL",e.SELECT_VOICE="SELECT_VOICE",e.SELECT_QUANTIZATION="SELECT_QUANTIZATION",e.SELECT_KEY="SELECT_KEY",e.SELECT_MODE="SELECT_MODE",e.SET_CONSTRAIN_TO_KEY="SET_CONSTRAIN_TO_KEY",e.USE_MASK_TOOL="USE_MASK_TOOL",e.USE_MASK_LANE="USE_MASK_LANE",e.MUTE_VOICE="MUTE_VOICE",e.UNMUTE_VOICE="UNMUTE_VOICE",e.CHANGE_LOOP="CHANGE_LOOP",e.PRESS_PIANOROLL="PRESS_PIANOROLL",e.START_GENERATE="START_GENERATE",e.GENERATE="GENERATE",e.SET_N_SAMPLES_TO_GENERATE="SET_N_SAMPLES_TO_GENERATE",e.SET_CONVENTIONAL_SURPRISING="SET_CONVENTIONAL_SURPRISING",e.SET_MAJOR_MINOR="SET_MAJOR_MINOR",e.SET_SIMILAR_DIFFERENT="SET_SIMILAR_DIFFERENT",e.SELECT_CANDIDATE_SEQUENCE="SELECT_CANDIDATE_SEQUENCE",e.CLEAR_CANDIDATE_SEQUENCES="CLEAR_CANDIDATE_SEQUENCES",e.CHOOSE_CANDIDATE_SEQUENCE="CHOOSE_CANDIDATE_SEQUENCE",e.IMPLICITLY_COMMIT_CANDIDATE="IMPLICITLY_COMMIT_CANDIDATE",e.SAVE_STATE="SAVE_STATE"}(a=t.Events||(t.Events={}));var l,u,d=function(){function e(){this.logEvents=[],this.sessionId=s.getDateString()}return e.prototype.logEvent=function(e,t){void 0===t&&(t=void 0);var o={event:e,timestamp:Date.now(),id:i.default.id};void 0!==t&&(o.payload=t),console.log(e,o),this.logEvents.push(o),i.default.firebaseLogging&&c.default.writeLogEvent(this.sessionId,o),i.default.sheetsLogging&&this.logToGoogleForm(o)},e.prototype.logToGoogleForm=function(e){document.getElementById("sheets-logging-textarea").value=JSON.stringify(e),document.getElementById("sheets-logging-form").submit(),console.log("logged to googleform")},e}();t.LoggingService=d,t.default=new d,(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(l.register(r,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/core/logging.ts"),l.register(c,"api_1","/Users/andycoenen/cannoneyed/cococonet/src/core/logging.ts"),l.register(i,"feature_flags_1","/Users/andycoenen/cannoneyed/cococonet/src/core/logging.ts"),l.register(a,"Events","/Users/andycoenen/cannoneyed/cococonet/src/core/logging.ts"),l.register(d,"LoggingService","/Users/andycoenen/cannoneyed/cococonet/src/core/logging.ts")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&u(e)}).call(this,o(2)(e))},function(e,t,o){e.exports=o(1)(5905)},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i,s,l=c(o(41)),u=o(8),d=0;function f(){return d++}!function(e){e.USER="USER",e.AGENT="AGENT"}(i=t.Source||(t.Source={})),function(e){e[e.SOPRANO=0]="SOPRANO",e[e.ALTO=1]="ALTO",e[e.TENOR=2]="TENOR",e[e.BASS=3]="BASS"}(s=t.Voice||(t.Voice={}));var p,y,h=function(){function e(e,t,o,n,r){void 0===n&&(n=i.USER),void 0===r&&(r=s.SOPRANO),this.id=f(),this.source=i.USER,this.isPlaying=!1,this.pitch=e,this.position=t,this.duration=o,this.source=n,this.voice=r}return Object.defineProperty(e.prototype,"name",{get:function(){return l.Note.fromMidi(this.pitch)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.position+this.duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"magentaNote",{get:function(){return{pitch:this.pitch,quantizedStartStep:this.position,quantizedEndStep:this.end,instrument:this.voice}},enumerable:!0,configurable:!0}),e.prototype.serialize=function(){return{id:this.id,source:this.source,pitch:this.pitch,position:this.position,duration:this.duration,voice:this.voice}},e.prototype.moveStart=function(e){e=Math.min(e,this.end-1);var t=this.duration-(e-this.position);return this.duration=Math.max(1,t),this.position=e,this},e.prototype.moveEnd=function(e){e=Math.max(e,this.position+1);var t=this.duration-(this.end-e);return this.duration=Math.max(1,t),this},e.fromSerialized=function(t){var o=new e(t.pitch,t.position,t.duration,t.source,t.voice);return o.id=t.id,o},e.fromNote=function(t){return new e(t.pitch,t.position,t.duration,t.source,t.voice)},a([u.observable],e.prototype,"pitch",void 0),a([u.observable],e.prototype,"position",void 0),a([u.observable],e.prototype,"duration",void 0),a([u.observable],e.prototype,"voice",void 0),a([u.observable],e.prototype,"isPlaying",void 0),a([u.computed],e.prototype,"name",null),a([u.computed],e.prototype,"start",null),a([u.computed],e.prototype,"end",null),a([u.computed],e.prototype,"magentaNote",null),e}();t.Note=h,(p=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(p.register(a,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/core/note.ts"),p.register(c,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/core/note.ts"),p.register(l,"tonal","/Users/andycoenen/cannoneyed/cococonet/src/core/note.ts"),p.register(d,"id","/Users/andycoenen/cannoneyed/cococonet/src/core/note.ts"),p.register(f,"generateId","/Users/andycoenen/cannoneyed/cococonet/src/core/note.ts"),p.register(i,"Source","/Users/andycoenen/cannoneyed/cococonet/src/core/note.ts"),p.register(s,"Voice","/Users/andycoenen/cannoneyed/cococonet/src/core/note.ts"),p.register(h,"Note","/Users/andycoenen/cannoneyed/cococonet/src/core/note.ts")),(y=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&y(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i,s,l=c(o(3));function u(e){var t=e.x,o=e.y,n=e.children,c=a(e,["x","y","children"]),i="translate("+t+","+o+")";return l.default.createElement("g",r({transform:i},c),n)}t.Group=u,u.defaultProps={x:0,y:0},(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(i.register(r,"__assign","/Users/andycoenen/cannoneyed/cococonet/src/components/group.tsx"),i.register(a,"__rest","/Users/andycoenen/cannoneyed/cococonet/src/components/group.tsx"),i.register(c,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/group.tsx"),i.register(l,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/group.tsx"),i.register(u,"Group","/Users/andycoenen/cannoneyed/cococonet/src/components/group.tsx")),(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&s(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,c,i=o(49),s=r(o(24)),l=r(o(99)),u=r(o(100)),d=r(o(101)),f=s.default,p=l.default,y=u.default;t.theme=i.createMuiTheme({palette:{primary:f,secondary:p,error:y}}),t.COLOR_PRIMARY=f[500],t.COLOR_SECONDARY=p[500],t.COLOR_PLAYING=p[500],t.COLOR_SELECTED=p[500],t.COLOR_TIMELINE_HANDLE=d.default[800],t.COLOR_TIMELINE_RANGE=d.default[700],t.COLOR_SOPRANO="#a1dab4",t.COLOR_ALTO="#41b6c4",t.COLOR_TENOR="#2c7fb8",t.COLOR_BASS="#253494",t.IN_KEY_COLOR="#ffffcc",t.VOICE_COLORS=[t.COLOR_SOPRANO,t.COLOR_ALTO,t.COLOR_TENOR,t.COLOR_BASS],t.MUTED_COLOR="#aaa",(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(a.register(r,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/core/theme.ts"),a.register(s,"blue_1","/Users/andycoenen/cannoneyed/cococonet/src/core/theme.ts"),a.register(l,"pink_1","/Users/andycoenen/cannoneyed/cococonet/src/core/theme.ts"),a.register(u,"red_1","/Users/andycoenen/cannoneyed/cococonet/src/core/theme.ts"),a.register(d,"yellow_1","/Users/andycoenen/cannoneyed/cococonet/src/core/theme.ts"),a.register(f,"primary","/Users/andycoenen/cannoneyed/cococonet/src/core/theme.ts"),a.register(p,"secondary","/Users/andycoenen/cannoneyed/cococonet/src/core/theme.ts"),a.register(y,"error","/Users/andycoenen/cannoneyed/cococonet/src/core/theme.ts")),(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&c(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},c=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,a=o.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return c},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],o=0;return t?t.call(e):{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var d,f=o(8),p=o(11),y=o(40),h=l(o(42)),g=u(o(10)),m=l(o(47)),v=o(12),b=o(22),_=u(o(16)),S=o(6),E=l(o(9));!function(e){e.DRAW="DRAW",e.MASK="MASK",e.ERASE="ERASE"}(d=t.EditorTool||(t.EditorTool={}));var O,L,M=function(){function e(){var e=this;this.mainSequence=new b.NoteSequence,this.mutedVoices=new Set,this.noteBeingDrawn=null,this._scale=y.makeNoteScale(S.MAX_PITCH,S.MIN_PITCH),this._key="C",this._mode="major",this._constrainToKey=!0,this._noteHoverName="",this._activeNoteValue=null,this.totalSixteenths=S.TOTAL_SIXTEENTHS,this._quantizeStep=2,this._selectedTool=d.DRAW,this._selectedVoice=v.Voice.SOPRANO,this.currentlySelectedNotes=new Set,this.isNoteSelected=function(t){return e.currentlySelectedNotes.has(t)},this.currentlyPlayingNotes=new Set;var t=0;S.DEFAULT_NOTES.forEach(function(o,n){var r=c(o,2),a=r[0],i=r[1],s=new v.Note(a,t,i);t+=i,e.mainSequence.addNote(s)}),this.currentlySelectedNotes.clear()}return Object.defineProperty(e.prototype,"mainNotes",{get:function(){return i(this.mainSequence.notes)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allNotes",{get:function(){return i(this.mainSequence.notes,this.candidateNoteSequence.notes)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"candidateNoteSequence",{get:function(){var e=h.default.selectedCandidateSequence;return e||b.NoteSequence.empty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unmutedNotes",{get:function(){var e=this;return this.allNotes.filter(function(t){return!e.isVoiceMuted(t.voice)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userNotes",{get:function(){return this.allNotes.filter(function(e){return e.source===v.Source.USER})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"agentNotes",{get:function(){return this.allNotes.filter(function(e){return e.source===v.Source.AGENT})},enumerable:!0,configurable:!0}),e.prototype.beginDrawingNote=function(e){_.default.beginUndoable("editor.drawNote"),this.noteBeingDrawn=e,this._addNote(e)},e.prototype.trimNoteBeingDrawnSequence=function(){this.noteBeingDrawn&&(this.candidateNoteSequence.isEmpty()?this.mainSequence.trimOverlappingVoices(this.noteBeingDrawn):this.candidateNoteSequence.trimOverlappingVoices(this.noteBeingDrawn))},e.prototype.endDrawingNote=function(){this.noteBeingDrawn&&(g.default.logEvent(g.Events.DRAW_NOTE,_.default.getUndoStep()),this.noteBeingDrawn=null,_.default.completeUndoable("editor.drawNote"))},Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this._key},enumerable:!0,configurable:!0}),e.prototype.selectKey=function(e){g.default.logEvent(g.Events.SELECT_KEY,e),this._key=e},Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),e.prototype.selectMode=function(e){g.default.logEvent(g.Events.SELECT_MODE,e),this._mode=e},Object.defineProperty(e.prototype,"constrainToKey",{get:function(){return this._constrainToKey},enumerable:!0,configurable:!0}),e.prototype.setConstrainToKey=function(e){g.default.logEvent(g.Events.SET_CONSTRAIN_TO_KEY,e),this._constrainToKey=e},Object.defineProperty(e.prototype,"noteHoverName",{get:function(){return this._noteHoverName},enumerable:!0,configurable:!0}),e.prototype.setNoteHoverName=function(e){if(null===e)this._noteHoverName="";else{var t=e.name,o=e.octave;this._noteHoverName=""+t+o}},Object.defineProperty(e.prototype,"scaleMax",{get:function(){return this.scale[0].pitch},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyScale",{get:function(){return y.makeNoteScaleForKey(this.key,this.mode)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyPitchSet",{get:function(){return new Set(this.keyScale.map(function(e){return e.pitch}))},enumerable:!0,configurable:!0}),e.prototype.isPitchInScale=function(e){return this.keyPitchSet.has(e)},Object.defineProperty(e.prototype,"activeNoteValue",{get:function(){return this._activeNoteValue},enumerable:!0,configurable:!0}),e.prototype.setActiveNoteValue=function(e){this._activeNoteValue=e},Object.defineProperty(e.prototype,"quantizeStep",{get:function(){return this._quantizeStep},enumerable:!0,configurable:!0}),e.prototype.selectQuantization=function(e){g.default.logEvent(g.Events.SELECT_QUANTIZATION,e),this._quantizeStep=e},Object.defineProperty(e.prototype,"nDivisions",{get:function(){return this.totalSixteenths/this.quantizeStep},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"divisions",{get:function(){return p.range(this.nDivisions)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedTool",{get:function(){return this._selectedTool},enumerable:!0,configurable:!0}),e.prototype.selectTool=function(e,t){void 0===t&&(t=!0),t&&g.default.logEvent(g.Events.SELECT_TOOL,e),this._selectedTool=e},Object.defineProperty(e.prototype,"selectedVoice",{get:function(){return this._selectedVoice},enumerable:!0,configurable:!0}),e.prototype.selectVoice=function(e){g.default.logEvent(g.Events.SELECT_VOICE,e),this._selectedVoice=e},e.prototype.setCurrentlyPlaying=function(e){e.isPlaying=!0,this.currentlyPlayingNotes.add(e)},e.prototype.clearPlayingNotes=function(){this.currentlyPlayingNotes.clear(),this.allNotes.forEach(function(e){e.isPlaying=!1})},e.prototype.getNoteByPitchPosition=function(e,t){return this.allNotes.find(function(o){return o.pitch===e&&o.position===t})},e.prototype.getTempNoteByPitchPosition=function(e,t){return this.candidateNoteSequence.notes.find(function(o){return o.pitch===e&&o.position===t})},e.prototype.setNotePlaying=function(e,t){var o,n,r=this.getNoteByPitchPosition(e,t);r&&this.setCurrentlyPlaying(r);var a=this.getTempNoteByPitchPosition(e,t);a&&this.setCurrentlyPlaying(a);try{for(var c=s(this.currentlyPlayingNotes.values()),i=c.next();!i.done;i=c.next()){var l=i.value;l.position+l.duration<=t&&(l.isPlaying=!1,this.currentlyPlayingNotes.delete(l))}}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=c.return)&&n.call(c)}finally{if(o)throw o.error}}},e.prototype.addNote=function(e,t){void 0===t&&(t=!1),this._addNote(e),t&&(this.currentlySelectedNotes.clear(),this.currentlySelectedNotes.add(e))},e.prototype._addNote=function(e){var t=m.default.isNoteMasked(e),o=null!==h.default.selectedCandidateSequence;t&&o&&!E.default.baseline?h.default.addNoteToSelected(e):this.mainSequence.addNote(e)},e.prototype.removeNote=function(e){this._removeNote(e),g.default.logEvent(g.Events.DELETE_NOTE,_.default.getUndoStep())},e.prototype._removeNote=function(e){h.default.removeNoteFromSelected(e),this.mainSequence.removeNote(e)},e.prototype.removeNotes=function(e){var t=this;e.forEach(function(e){return t._removeNote(e)})},e.prototype.removeMaskedNotes=function(){var e=m.default.maskedNotes;this.removeNotes(e),g.default.logEvent(g.Events.DELETE_MASKED_NOTES,_.default.getUndoStep())},e.prototype.getPitchFromScaleIndex=function(e){return this.scale[e].pitch},e.prototype.addGeneratedSequence=function(e){var t=this;e.notes.forEach(function(e){t.mainSequence.addNote(e)})},e.prototype.startNoteDrag=function(){_.default.beginUndoable("editor.dragNote")},e.prototype.endNoteDrag=function(e){var t,o;try{for(var n=s(this.allNotes),r=n.next();!r.done;r=n.next()){var a=r.value;a!==e&&(a.position===e.position&&a.pitch===e.pitch&&this.mainSequence.removeNote(e))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(t)throw t.error}}_.default.completeUndoable("editor.dragNote"),g.default.logEvent(g.Events.MOVE_NOTE,_.default.getUndoStep())},e.prototype.replaceAllNotes=function(e){var t,o;this.mainSequence.clearNotes();try{for(var n=s(e),r=n.next();!r.done;r=n.next()){var a=r.value;this.mainSequence.addNote(a)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(t)throw t.error}}},e.prototype.getNotesInRange=function(e,t){var o,n,r=[];try{for(var a=s(this.allNotes),c=a.next();!c.done;c=a.next()){var i=c.value;b.NoteSequence.overlaps(i,e,t)&&r.push(i)}}catch(e){o={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return r},e.prototype.toggleVoiceMute=function(e){this.mutedVoices.has(e)?(g.default.logEvent(g.Events.UNMUTE_VOICE,e),this.mutedVoices.delete(e)):(g.default.logEvent(g.Events.MUTE_VOICE,e),this.mutedVoices.add(e))},e.prototype.isVoiceMuted=function(e){return this.mutedVoices.has(e)},a([f.observable],e.prototype,"mainSequence",void 0),a([f.observable],e.prototype,"mutedVoices",void 0),a([f.computed],e.prototype,"mainNotes",null),a([f.computed],e.prototype,"allNotes",null),a([f.computed],e.prototype,"candidateNoteSequence",null),a([f.computed],e.prototype,"unmutedNotes",null),a([f.computed],e.prototype,"userNotes",null),a([f.computed],e.prototype,"agentNotes",null),a([f.observable],e.prototype,"noteBeingDrawn",void 0),a([f.observable],e.prototype,"_scale",void 0),a([f.computed],e.prototype,"scale",null),a([f.observable],e.prototype,"_key",void 0),a([f.computed],e.prototype,"key",null),a([f.observable],e.prototype,"_mode",void 0),a([f.computed],e.prototype,"mode",null),a([f.observable],e.prototype,"_constrainToKey",void 0),a([f.computed],e.prototype,"constrainToKey",null),a([f.observable],e.prototype,"_noteHoverName",void 0),a([f.computed],e.prototype,"noteHoverName",null),a([f.computed],e.prototype,"scaleMax",null),a([f.computed],e.prototype,"keyScale",null),a([f.computed],e.prototype,"keyPitchSet",null),a([f.observable],e.prototype,"_activeNoteValue",void 0),a([f.computed],e.prototype,"activeNoteValue",null),a([f.observable],e.prototype,"totalSixteenths",void 0),a([f.observable],e.prototype,"_quantizeStep",void 0),a([f.computed],e.prototype,"quantizeStep",null),a([f.computed],e.prototype,"nDivisions",null),a([f.computed],e.prototype,"divisions",null),a([f.observable],e.prototype,"_selectedTool",void 0),a([f.computed],e.prototype,"selectedTool",null),a([f.observable],e.prototype,"_selectedVoice",void 0),a([f.computed],e.prototype,"selectedVoice",null),a([f.observable],e.prototype,"currentlySelectedNotes",void 0),a([f.observable],e.prototype,"currentlyPlayingNotes",void 0),a([_.undoable("editor.addNote")],e.prototype,"addNote",null),a([_.undoable("editor.removeNote")],e.prototype,"removeNote",null),a([_.undoable("editor.removeMaskedNotes")],e.prototype,"removeMaskedNotes",null),e}();t.default=new M,(O=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(O.register(a,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/core/editor.ts"),O.register(c,"__read","/Users/andycoenen/cannoneyed/cococonet/src/core/editor.ts"),O.register(i,"__spread","/Users/andycoenen/cannoneyed/cococonet/src/core/editor.ts"),O.register(s,"__values","/Users/andycoenen/cannoneyed/cococonet/src/core/editor.ts"),O.register(l,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/core/editor.ts"),O.register(u,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/core/editor.ts"),O.register(h,"generator_1","/Users/andycoenen/cannoneyed/cococonet/src/core/editor.ts"),O.register(g,"logging_1","/Users/andycoenen/cannoneyed/cococonet/src/core/editor.ts"),O.register(m,"masks_1","/Users/andycoenen/cannoneyed/cococonet/src/core/editor.ts"),O.register(_,"undo_1","/Users/andycoenen/cannoneyed/cococonet/src/core/editor.ts"),O.register(E,"feature_flags_1","/Users/andycoenen/cannoneyed/cococonet/src/core/editor.ts"),O.register(d,"EditorTool","/Users/andycoenen/cannoneyed/cococonet/src/core/editor.ts"),O.register(M,"Editor","/Users/andycoenen/cannoneyed/cococonet/src/core/editor.ts")),(L=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&L(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},c=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,a=o.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return c},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l,u,d=o(8),f=s(o(10)),p=o(12),y=o(22),h=o(4),g=function(){function e(){this.undoStack=[],this.redoStack=[],this.pendingUndoStep=null,this.undoableNesting=[],this.undoLocked=!1}return Object.defineProperty(e.prototype,"canUndo",{get:function(){return this.undoStack.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canRedo",{get:function(){return this.redoStack.length>0},enumerable:!0,configurable:!0}),e.prototype.getSerializedNotes=function(){return h.editor.mainNotes.map(function(e){return e.serialize()})},e.prototype.getSerializedCandidateNotes=function(){return h.generator.candidateSequences.map(function(e){return e.notes.map(function(e){return e.serialize()})})},e.prototype.getSerializedMasks=function(){return h.masks.userMasks.map(function(e){return i(e)})},e.prototype.getUndoStep=function(){return{notes:this.getSerializedNotes(),candidateNotes:this.getSerializedCandidateNotes(),masks:this.getSerializedMasks(),selectedCandidateIndex:h.generator.selectedCandidateSequenceIndex}},e.prototype.beginUndoable=function(e){this.undoLocked||(this.undoableNesting.push(e),this.pendingUndoStep||(this.pendingUndoStep=this.getUndoStep()))},e.prototype.completeUndoable=function(e){if(!this.undoLocked){var t=this.undoableNesting.pop();e!==t&&console.error("Undoables of types "+e+", "+t+" completed in incorrect order "),0===this.undoableNesting.length&&(this.undoStack.push(this.pendingUndoStep),this.redoStack=[],this.pendingUndoStep=null)}},e.prototype.lockUndo=function(){this.undoLocked=!0},e.prototype.unlockUndo=function(){this.undoLocked=!1},e.prototype.undo=function(){if(this.undoStack.length){this.redoStack.push(this.getUndoStep());var e=this.undoStack.pop();this.rehydrateStep(e),f.default.logEvent(f.Events.UNDO,e)}},e.prototype.redo=function(){if(this.redoStack.length){this.undoStack.push(this.getUndoStep());var e=this.redoStack.pop();this.rehydrateStep(e),f.default.logEvent(f.Events.REDO,e)}},e.prototype.rehydrateStep=function(e){this.lockUndo();var t=e.notes.map(function(e){return p.Note.fromSerialized(e)});h.editor.replaceAllNotes(t);var o=e.candidateNotes.map(function(e){return new y.NoteSequence(e.map(function(e){return p.Note.fromSerialized(e)}))});h.generator.setCandidateSequences(o),h.generator.selectedCandidateSequenceIndex=e.selectedCandidateIndex,h.masks.setMasks(e.masks),this.unlockUndo()},a([d.observable],e.prototype,"undoStack",void 0),a([d.observable],e.prototype,"redoStack",void 0),a([d.computed],e.prototype,"canUndo",null),a([d.computed],e.prototype,"canRedo",null),e}(),m=new g;function v(e){return function(t,o,n){var r=n.value;return n.value=function(){m.beginUndoable(e),r.apply(this,arguments),m.completeUndoable(e)},n}}t.default=m,t.undoable=v,(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(l.register(a,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/core/undo.ts"),l.register(c,"__read","/Users/andycoenen/cannoneyed/cococonet/src/core/undo.ts"),l.register(i,"__spread","/Users/andycoenen/cannoneyed/cococonet/src/core/undo.ts"),l.register(s,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/core/undo.ts"),l.register(f,"logging_1","/Users/andycoenen/cannoneyed/cococonet/src/core/undo.ts"),l.register(g,"Undo","/Users/andycoenen/cannoneyed/cococonet/src/core/undo.ts"),l.register(m,"undo","/Users/andycoenen/cannoneyed/cococonet/src/core/undo.ts"),l.register(v,"undoable","/Users/andycoenen/cannoneyed/cococonet/src/core/undo.ts")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&u(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";o.r(t);var n=o(28);o.d(t,"default",function(){return n.default})},function(e,t,o){"use strict";o.r(t);var n=o(29);o.d(t,"default",function(){return n.default})},function(e,t,o){"use strict";o.r(t);var n=o(30);o.d(t,"default",function(){return n.default});var r=o(31);o.d(t,"useFormControl",function(){return r.default})},function(e,t,o){"use strict";o.r(t);var n=o(34);o.d(t,"default",function(){return n.default})},function(e,t,o){"use strict";o.r(t);var n=o(35);o.d(t,"default",function(){return n.default})},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},c=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,a=o.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return c},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],o=0;return t?t.call(e):{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var l,u,d=o(8),f=o(12),p=o(6),y=function(){function e(e){void 0===e&&(e=[]),this._notes=e}return Object.defineProperty(e.prototype,"notes",{get:function(){return i(this._notes)},enumerable:!0,configurable:!0}),e.prototype.addNote=function(e,t){void 0===t&&(t=!0),t&&this.trimOverlappingVoices(e),this._notes.push(e)},e.prototype.removeNote=function(e){this._notes=this._notes.filter(function(t){return t!==e})},e.prototype.setNotes=function(e){this._notes=e},e.prototype.clearNotes=function(){this._notes=[]},e.prototype.trimOverlappingVoices=function(t){var o=this,n=[t.start,t.end];this._notes.filter(function(o){return o!==t&&o.voice===t.voice&&e.overlaps(o,n,[p.MIN_PITCH,p.MAX_PITCH])}).forEach(function(e){e.end>t.end?e.moveStart(t.end):o.removeNote(e)})},e.prototype.isEmpty=function(){return 0===this.notes.length},e.overlaps=function(e,t,o){var n=e.pitch,r=e.position,a=e.duration,i=c(t,2),s=i[0],l=i[1],u=c(o,2),d=u[0],f=u[1];return!(n<d||n>f)&&(r>=s&&r<l||r<s&&r+a>s)},e.mergeConsecutiveNotes=function(t){var o,n,r,a,l,u,d=new Map;try{for(var p=s(t),y=p.next();!y.done;y=p.next()){var h=y.value;(G=d.get(h.voice)||[]).push(h),d.set(h.voice,G)}}catch(e){o={error:e}}finally{try{y&&!y.done&&(n=p.return)&&n.call(p)}finally{if(o)throw o.error}}try{for(var g=s(d.entries()),m=g.next();!m.done;m=g.next()){var v=c(m.value,2),b=v[0];(G=v[1]).sort(function(e,t){return e.position-t.position});for(var _=[],S=null,E=0;E<G.length;E++){null===S&&(S=G[E]);var O=S.end,L=S.pitch,M=S.duration,N=S.position,H=S.source,k=S.voice,x=G[E+1];if(x&&O===x.start&&L===x.pitch){var T=M+x.duration;S=new f.Note(L,N,T,H,k)}else _.push(S),S=null}d.set(b,_)}}catch(e){r={error:e}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(r)throw r.error}}var U=[];try{for(var P=s(d.values()),D=P.next();!D.done;D=P.next()){var G=D.value;U.push.apply(U,i(G))}}catch(e){l={error:e}}finally{try{D&&!D.done&&(u=P.return)&&u.call(P)}finally{if(l)throw l.error}}return new e(U)},e.removeOverlappingNotes=function(t){var o=t.notes.filter(function(o){var n,r;try{for(var a=s(t.notes),c=a.next();!c.done;c=a.next()){var i=c.value,l=[i.start,i.end],u=[i.pitch,i.pitch];if(i!==o&&e.overlaps(o,l,u))return!1}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return!0});return new e(o)},e.empty=function(){return new e},a([d.observable],e.prototype,"_notes",void 0),a([d.computed],e.prototype,"notes",null),e}();t.NoteSequence=y,(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(l.register(a,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/core/note-sequence.ts"),l.register(c,"__read","/Users/andycoenen/cannoneyed/cococonet/src/core/note-sequence.ts"),l.register(i,"__spread","/Users/andycoenen/cannoneyed/cococonet/src/core/note-sequence.ts"),l.register(s,"__values","/Users/andycoenen/cannoneyed/cococonet/src/core/note-sequence.ts"),l.register(y,"NoteSequence","/Users/andycoenen/cannoneyed/cococonet/src/core/note-sequence.ts")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&u(e)}).call(this,o(2)(e))},function(e,t,o){e.exports=o(1)(170)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};t.default=n},function(e,t,o){e.exports=o(1)(3)},function(e,t,o){e.exports=o(1)(5792)},function(e,t,o){e.exports=o(1)(5595)},function(e,t,o){e.exports=o(1)(33)},function(e,t,o){e.exports=o(1)(5801)},function(e,t,o){e.exports=o(1)(5561)},function(e,t,o){e.exports=o(1)(47)},function(e,t,o){"use strict";o.r(t);var n=o(33);o.d(t,"default",function(){return n.default})},function(e,t,o){e.exports=o(1)(5563)},function(e,t,o){e.exports=o(1)(5574)},function(e,t,o){e.exports=o(1)(206)},function(e,t,o){e.exports=o(1)(5872)},function(e,t,o){e.exports=o(1)(5874)},function(e,t,o){e.exports=o(1)(5862)},function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a,c,i=r(o(88)),s={apiKey:"AIzaSyAEU4O7O3ts53c9f6l39Zx41luXx9pu09A",databaseURL:"https://bach-cococo.firebaseio.com",projectId:"bach-cococo",messagingSenderId:"427475510875",appId:"1:427475510875:web:cd7d8ee2b33b3feb"},l=function(){function e(){this.isFirebaseInitialized=!1;try{this.app=i.initializeApp(s),this.isFirebaseInitialized=!0}catch(e){console.log("Firebase not initialized with config:",s)}}return e.prototype.writeLogEvent=function(e,t){this.isFirebaseInitialized&&i.database().ref("logs/"+e+"/"+t.timestamp).set(t)},e}();t.default=new l,(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(a.register(r,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/core/api.ts"),a.register(i,"firebase","/Users/andycoenen/cannoneyed/cococonet/src/core/api.ts"),a.register(s,"firebaseConfig","/Users/andycoenen/cannoneyed/cococonet/src/core/api.ts"),a.register(l,"APIManager","/Users/andycoenen/cannoneyed/cococonet/src/core/api.ts")),(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&c(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=r(o(41)),c=o(6),i=o(11);function s(e){var t=a.Note.fromMidi(e);return{letter:t[0],accidental:t.length>2?t[1]:"",octave:Number(t[t.length-1])}}t.getNoteDetails=s;var l="ABCDEFG",u=s(c.BOTTOM_A).octave;function d(e,t){return 7*(t-u)+(l.indexOf(e)-l.indexOf("A"))}function f(e){return{name:l[e%7],octave:Math.floor(e/7)+u}}function p(e,t){return void 0===e&&(e=c.MAX_PITCH),void 0===t&&(t=c.MIN_PITCH),i.range(e,t-1).map(function(e){var t=s(e);return{pitch:e,name:""+t.letter+t.accidental,octave:t.octave}})}function y(e,t){var o=a.Scale.notes(e,t).map(function(e){return a.Note.simplify(e)}),n=new Set(o);return p(c.MAX_PITCH,c.MIN_PITCH).filter(function(e){var t=s(e.pitch),o=t.accidental,r=""+t.letter+o,c=a.Note.enharmonic(r);return n.has(r)||n.has(c)})}t.getStaffLineNumber=d,t.getNoteDetailsFromLine=f,t.makeNoteScale=p,t.makeNoteScaleForKey=y;var h,g,m=new Set(["M","m","dim","aug"]),v={major:["M","m","m","M","M","m","m"],minor:["m","dim","M","m","m","M","M"],"harmonic minor":["m","dim","aug","m","M","M","dim"]};function b(e,t){if(m.has(t)){var o=a.Chord.notes(e,t).map(function(e){return a.Note.simplify(e)}),n=new Set(o);return p(c.MIN_PITCH,c.MAX_PITCH).filter(function(e){var t=s(e.pitch),o=t.accidental,r=""+t.letter+o,c=a.Note.enharmonic(r);return n.has(r)||n.has(c)})}console.error("Violated contract for makeNotesTriadForKey; (mode = "+t+") is not one of "+JSON.stringify(m))}function _(e,t){if(c.MODE_NAMES.includes(t))return a.Scale.notes(e,t).map(function(e,o){return{key:e,quality:v[t][o]}});console.error("Violated contract for getTriadsForKey; (mode = "+t+") is not one of "+JSON.stringify(m))}function S(e,t){return _(e,t).filter(function(e){return"M"===e.quality})}function E(e,t){return _(e,t).filter(function(e){return"M"!==e.quality})}function O(){return c.KEY_NAMES.map(function(e){return{key:e,quality:"M"}})}function L(){var e=["m","aug","dim"],t=[];return c.KEY_NAMES.forEach(function(o){e.forEach(function(e){t.push({key:o,quality:e})})}),t}t.makeNotesTriadForKey=b,t.getTriadsForKey=_,t.getHappyTriadsForKey=S,t.getSadTriadsForKey=E,t.getAllHappyTriads=O,t.getAllSadTriads=L,(h=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(h.register(r,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts"),h.register(a,"tonal","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts"),h.register(s,"getNoteDetails","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts"),h.register(l,"RAW_NOTE_NAMES","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts"),h.register(u,"BOTTOM_A_OCTAVE","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts"),h.register(d,"getStaffLineNumber","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts"),h.register(f,"getNoteDetailsFromLine","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts"),h.register(p,"makeNoteScale","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts"),h.register(y,"makeNoteScaleForKey","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts"),h.register(m,"CHORD_MODES","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts"),h.register(v,"TRIAD_QUALITIES","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts"),h.register(b,"makeNotesTriadForKey","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts"),h.register(_,"getTriadsForKey","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts"),h.register(S,"getHappyTriadsForKey","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts"),h.register(E,"getSadTriadsForKey","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts"),h.register(O,"getAllHappyTriads","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts"),h.register(L,"getAllSadTriads","/Users/andycoenen/cannoneyed/cococonet/src/core/tonal-utils.ts")),(g=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&g(e)}).call(this,o(2)(e))},function(e,t,o){e.exports=o(1)(261)},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},c=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,a){function c(e){try{s(n.next(e))}catch(e){a(e)}}function i(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(c,i)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var o,n,r,a,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,n=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){c.label=a[1];break}if(6===a[0]&&c.label<r[1]){c.label=r[1],r=a;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(a);break}r[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},s=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,a=o.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return c},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var f,p,y=o(8),h=u(o(9)),g=d(o(10)),m=o(22),v=o(4),b=o(90),_=o(46),S=o(6),E=d(o(16)),O=function(){function e(){var e=this;this.model=new b.Coconet(S.MODEL_URL),this.isWorking=!1,this.isModelLoaded=!0,this._nSequencesToGenerate=h.default.baseline?1:3,this._conventionalSurprising=0,this._majorMinor=0,this._differenceFromOriginal=S.DifferenceFromOriginal.SomewhatDifferent,this.candidateSequences=[],this.selectedCandidateSequenceIndex=null,this.setCandidateSequences=function(t){e.candidateSequences=t},this.getEmptySequence=function(){return[]},this.selectCandidateSequence=function(t,o){void 0===o&&(o=!0),o&&g.default.logEvent(g.Events.SELECT_CANDIDATE_SEQUENCE,t),e.selectedCandidateSequenceIndex=t,v.player.isPlaying&&v.player.restart()},this.addBackOriginalSequence=function(){v.editor.addGeneratedSequence(e.candidateSequences[0]),e.clearCandidateSequences()},this.clearCandidateSequences=function(t){void 0===t&&(t=!0),t&&g.default.logEvent(g.Events.CLEAR_CANDIDATE_SEQUENCES),e.selectedCandidateSequenceIndex=null,e.candidateSequences=[]},this.loadModel()}return Object.defineProperty(e.prototype,"nSequencesToGenerate",{get:function(){return this._nSequencesToGenerate},enumerable:!0,configurable:!0}),e.prototype.setNSequencesToGenerate=function(e){g.default.logEvent(g.Events.SET_N_SAMPLES_TO_GENERATE,e),this._nSequencesToGenerate=e},Object.defineProperty(e.prototype,"conventionalSurprising",{get:function(){return this._conventionalSurprising},enumerable:!0,configurable:!0}),e.prototype.setConventionalSurprising=function(e){this._conventionalSurprising=e},Object.defineProperty(e.prototype,"majorMinor",{get:function(){return this._majorMinor},enumerable:!0,configurable:!0}),e.prototype.setMajorMinor=function(e){this._majorMinor=e},Object.defineProperty(e.prototype,"differenceFromOriginal",{get:function(){return this._differenceFromOriginal},enumerable:!0,configurable:!0}),e.prototype.setDifferenceFromOriginal=function(e){this._differenceFromOriginal=e},Object.defineProperty(e.prototype,"selectedCandidateSequence",{get:function(){var e=this.selectedCandidateSequenceIndex;return null===e||0===this.candidateSequences.length?null:this.candidateSequences[e]||null},enumerable:!0,configurable:!0}),e.prototype.loadModel=function(){return c(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.model.initialize()];case 1:return e.sent(),this.isModelLoaded=!0,[2]}})})},e.prototype.addNoteToSelected=function(e){var t=this.selectedCandidateSequence;t&&t.addNote(e)},e.prototype.removeNoteFromSelected=function(e){var t=this.selectedCandidateSequence;t&&t.removeNote(e)},e.prototype.setSelectedCandidateSequence=function(e){var t=this.selectedCandidateSequenceIndex;this.candidateSequences[t]=e},e.prototype.commitSelectedCandidateSequence=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),t&&g.default.logEvent(g.Events.CHOOSE_CANDIDATE_SEQUENCE,E.default.getUndoStep());var o=this.selectedCandidateSequence;o&&(v.editor.addGeneratedSequence(o),e&&v.masks.clearMasks()),this.clearCandidateSequences(!1)},e.prototype.getInfillMask=function(){var e=[];if(v.masks.generationMasks.forEach(function(t,o){t.forEach(function(t){e.push({voice:o,step:t})})}),0!==e.length)return e.sort(function(e,t){return e.voice===t.voice?e.step-t.step:e.voice-t.voice})},e.prototype.computeTemperature=function(e){return Math.pow(2,e)},e.prototype.binHappySad=function(e){return e<-.33?S.Mood.SAD:e<.33?S.Mood.NEUTRAL:S.Mood.HAPPY},e.prototype.prepareForHarmonization=function(){if(this.candidateSequences.length){this.commitSelectedCandidateSequence(!1,!1)}h.default.baseline&&v.masks.doImplicitMasksExist&&v.masks.addImplicitMasksToUserMasks()},e.prototype.getSimilarDifferentConfig=function(){var e=this.differenceFromOriginal;return e<S.DifferenceFromOriginal.Similar?{discourageNotes:!1,nudgeFactor:2}:e<S.DifferenceFromOriginal.SomewhatDifferent?{discourageNotes:!1,nudgeFactor:1}:e<S.DifferenceFromOriginal.Different?{discourageNotes:!0,nudgeFactor:1}:(S.DifferenceFromOriginal.VeryDifferent,{discourageNotes:!0,nudgeFactor:2})},e.prototype.getMoodConfig=function(){var e,t=this.majorMinor,o=this.binHappySad(t);return o!==S.Mood.NEUTRAL&&(e={key:v.editor.key,mode:v.editor.mode,happy:o===S.Mood.HAPPY}),e},e.prototype.generate=function(){return c(this,void 0,void 0,function(){var e,t,o,n,r,a,c,s,u,d,f,p,b;return i(this,function(S){switch(S.label){case 0:return E.default.beginUndoable("generator.generate"),this.prepareForHarmonization(),this.isWorking=!0,[4,L(200)];case 1:S.sent(),v.player.isPlaying&&v.player.stop(),t=(e=this).conventionalSurprising,o=e.nSequencesToGenerate,n=this.computeTemperature(t),r=this.getSimilarDifferentConfig(),a=this.getMoodConfig(),g.default.logEvent(g.Events.START_GENERATE,{conventionalSurprising:t,nSequencesToGenerate:o,differenceFromOriginal:this.differenceFromOriginal,majorMinor:this.majorMinor,masks:v.masks.generationMasks}),c=[],s=function(e){var t,o,s,d,f,p,y,h,g,b;return i(this,function(e){switch(e.label){case 0:return t=l(v.editor.allNotes),o=_.getMagentaNoteSequence(t,v.player.bpm,v.editor.totalSixteenths),s=u.getInfillMask(),[4,u.model.infill(o,{temperature:n,infillMask:s,similarDifferentConfig:r,moodConfig:a})];case 1:return d=e.sent(),f=_.fromMagentaSequence(d),p=v.masks.generationMasks,y=new Set,p.forEach(function(e,t){e.forEach(function(e){return y.add(t+":"+e)})}),h=f.filter(function(e){var t=e.voice+":"+e.position;return y.has(t)}),g=m.NoteSequence.mergeConsecutiveNotes(h),b=m.NoteSequence.removeOverlappingNotes(g),c.push(b.notes),[2]}})},u=this,d=0,S.label=2;case 2:return d<o?[5,s(d)]:[3,5];case 3:S.sent(),S.label=4;case 4:return d++,[3,2];case 5:return f=v.masks.maskedNotes,v.editor.removeNotes(f),p=l([f],c).map(function(e){return new m.NoteSequence(e)}),g.default.logEvent(g.Events.GENERATE,E.default.getUndoStep()),this.setCandidateSequences(p),this.selectCandidateSequence(1,!1),h.default.baseline&&(b=y.toJS(v.masks.generationMasks),!0,!1,this.commitSelectedCandidateSequence(!0,!1),v.masks.setMasks(b)),this.isWorking=!1,E.default.completeUndoable("generator.generate"),[2]}})})},a([y.observable],e.prototype,"isWorking",void 0),a([y.observable],e.prototype,"isModelLoaded",void 0),a([y.observable],e.prototype,"_nSequencesToGenerate",void 0),a([y.computed],e.prototype,"nSequencesToGenerate",null),a([y.observable],e.prototype,"_conventionalSurprising",void 0),a([y.computed],e.prototype,"conventionalSurprising",null),a([y.observable],e.prototype,"_majorMinor",void 0),a([y.computed],e.prototype,"majorMinor",null),a([y.observable],e.prototype,"_differenceFromOriginal",void 0),a([y.computed],e.prototype,"differenceFromOriginal",null),a([y.observable],e.prototype,"candidateSequences",void 0),a([y.observable],e.prototype,"selectedCandidateSequenceIndex",void 0),a([y.computed],e.prototype,"selectedCandidateSequence",null),a([E.undoable("generator.commitSelectedCandidateSequence")],e.prototype,"commitSelectedCandidateSequence",null),e}();function L(e){return void 0===e&&(e=1),new Promise(function(t){return setTimeout(function(){return t()},e)})}t.Generator=O,t.default=new O,(f=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(f.register(a,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/core/generator.ts"),f.register(c,"__awaiter","/Users/andycoenen/cannoneyed/cococonet/src/core/generator.ts"),f.register(i,"__generator","/Users/andycoenen/cannoneyed/cococonet/src/core/generator.ts"),f.register(s,"__read","/Users/andycoenen/cannoneyed/cococonet/src/core/generator.ts"),f.register(l,"__spread","/Users/andycoenen/cannoneyed/cococonet/src/core/generator.ts"),f.register(u,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/core/generator.ts"),f.register(d,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/core/generator.ts"),f.register(h,"feature_flags_1","/Users/andycoenen/cannoneyed/cococonet/src/core/generator.ts"),f.register(g,"logging_1","/Users/andycoenen/cannoneyed/cococonet/src/core/generator.ts"),f.register(E,"undo_1","/Users/andycoenen/cannoneyed/cococonet/src/core/generator.ts"),f.register(O,"Generator","/Users/andycoenen/cannoneyed/cococonet/src/core/generator.ts"),f.register(L,"delay","/Users/andycoenen/cannoneyed/cococonet/src/core/generator.ts")),(p=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&p(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);var r,a;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function c(){var e=new Date;return e.getFullYear()+"-"+e.getMonth()+"-"+e.getDate()+"_"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}Object.defineProperty(t,"__esModule",{value:!0}),t.getDateString=c,(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&r.register(c,"getDateString","/Users/andycoenen/cannoneyed/cococonet/src/core/utils.ts"),(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&a(e)}).call(this,o(2)(e))},function(e,t,o){e.exports=o(1)(2)},function(e,t,o){"use strict";(function(e){
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);var r,a,c;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function i(e,o,n){if(void 0===o&&(o="Magenta.js"),void 0===n&&(n=r.INFO),n===r.NONE)throw Error("Logging level cannot be NONE.");t.verbosity>=n&&(n===r.WARN?console.warn:console.log)("%c "+o+" ","background:magenta; color:white",e)}function s(e,t,o,n){void 0===o&&(o="Magenta.js"),void 0===n&&(n=r.INFO),i(e+" in "+((performance.now()-t)/1e3).toPrecision(3)+"s",o,n)}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NONE=0]="NONE",e[e.WARN=5]="WARN",e[e.INFO=10]="INFO",e[e.DEBUG=20]="DEBUG"}(r=t.Level||(t.Level={})),t.verbosity=r.INFO,t.log=i,t.logWithDuration=s,(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(a.register(r,"Level","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/magenta/logging.ts"),a.register(i,"log","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/magenta/logging.ts"),a.register(s,"logWithDuration","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/magenta/logging.ts")),(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&c(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a,c,i=r(o(23)),s=o(12);function l(e,t,o,n){return i.sequences.isQuantizedSequence(e)?u(e,t,o,"totalQuantizedSteps","quantizedStartStep","quantizedEndStep",n):u(e,t,o,"totalTime","startTime","endTime",n)}function u(e,t,o,n,r,a,c){var s=i.sequences.clone(e);s[n]=o,s.notes=s.notes.filter(function(e){return e[r]>=t&&e[r]<o&&(c||e[a]<=o)});for(var l=0;l<s.notes.length;l++)s.notes[l][r]-=t,s.notes[l][a]-=t,c&&(s.notes[l][a]=Math.min(s.notes[l][a],o));return s[n]=Math.min(e[n]-t,o),s}function d(e,t){return void 0===t&&(t=s.Source.AGENT),e.notes.map(function(e){var o=e.quantizedStartStep,n=e.quantizedEndStep-e.quantizedStartStep,r=e.instrument;return new s.Note(e.pitch,o,n,t,r)})}function f(e,t,o,n){void 0===n&&(n=!1);var r={notes:e.map(function(e){return e.magentaNote}),tempos:[{time:0,qpm:t}],totalQuantizedSteps:o,quantizationInfo:{stepsPerQuarter:4}};return n?i.sequences.mergeConsecutiveNotes(r):i.sequences.clone(r)}t.trim=l,t.fromMagentaSequence=d,t.getMagentaNoteSequence=f,(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(a.register(r,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/core/magenta-utils.ts"),a.register(i,"mm","/Users/andycoenen/cannoneyed/cococonet/src/core/magenta-utils.ts"),a.register(l,"trim","/Users/andycoenen/cannoneyed/cococonet/src/core/magenta-utils.ts"),a.register(u,"trimHelper","/Users/andycoenen/cannoneyed/cococonet/src/core/magenta-utils.ts"),a.register(d,"fromMagentaSequence","/Users/andycoenen/cannoneyed/cococonet/src/core/magenta-utils.ts"),a.register(f,"getMagentaNoteSequence","/Users/andycoenen/cannoneyed/cococonet/src/core/magenta-utils.ts")),(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&c(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},c=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,a=o.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return c},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],o=0;return t?t.call(e):{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}}},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=o(8),f=l(o(11)),p=u(o(15)),y=u(o(9)),h=o(6),g=o(16),m=o(4),v=function(){return function(e,t,o,n){this.topLeftValue=e,this.topLeftPosition=t,this.bottomRightValue=o,this.bottomRightPosition=n}}();t.EditorMaskRegion=v;var b,_,S=function(){function e(){this._userMasks=this.emptyMasks()}return Object.defineProperty(e.prototype,"_implicitMasks",{get:function(){return y.default.baseline?this.computeMasksFromEmptyRegions():this.emptyMasks()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userMasks",{get:function(){return this._userMasks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"implicitMasks",{get:function(){return this._implicitMasks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userOrImplicitMasks",{get:function(){return y.default.baseline?this.doUserMasksExist?this._userMasks:this._implicitMasks:this._userMasks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"generationMasks",{get:function(){return y.default.baseline?this.userOrImplicitMasks:this.constrainToLoopBounds(this.userOrImplicitMasks)},enumerable:!0,configurable:!0}),e.prototype.constrainToLoopBounds=function(e){var t=m.player.loopStart,o=m.player.loopEnd;return e.map(function(e){return e.filter(function(e){return e>=t&&e<o})})},e.prototype.emptyMasks=function(){return[[],[],[],[]]},e.prototype.getPositionsPerVoice=function(e){var t=f.range(4).map(function(){return new Set});return e.forEach(function(e){f.range(e.start,e.end).forEach(function(o){return t[e.voice].add(o)})}),t},e.prototype.computeMasksFromEmptyRegions=function(){var e=this.getPositionsPerVoice(p.default.allNotes);return f.range(4).map(function(t){return f.range(h.TOTAL_SIXTEENTHS).filter(function(o){return!e[t].has(o)})})},e.prototype.maskNotes=function(e,t){var o=this;void 0===t&&(t=!0),this.getPositionsPerVoice(e).forEach(function(e,n){t?o.setMask(n,i(e.values())):o.addMask(n,i(e.values()))})},e.prototype.setMask=function(e,t){this._setMask(e,t)},e.prototype._setMask=function(e,t){this._userMasks[e]=i(t)},e.prototype.setMasks=function(e){this._userMasks=e},e.prototype.addMask=function(e,t){var o=new Set(this._userMasks[e]);t.forEach(function(e){return o.add(e)}),this._userMasks[e]=i(o.values()).sort(function(e,t){return e-t})},e.prototype.removeMask=function(e,t){var o=new Set(this._userMasks[e]);t.forEach(function(e){return o.delete(e)}),this._userMasks[e]=i(o.values()).sort(function(e,t){return e-t})},e.prototype.clearMasks=function(){this._userMasks=this.emptyMasks()},e.prototype.isNoteMasked=function(e){var t,o,n=e.voice,r=e.start,a=e.end,c=this.userOrImplicitMasks[n];try{for(var i=s(c),l=i.next();!l.done;l=i.next()){var u=l.value;if(u>=r&&u<a)return!0}}catch(e){t={error:e}}finally{try{l&&!l.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}return!1},Object.defineProperty(e.prototype,"maskedNotes",{get:function(){var e,t,o=p.default.allNotes,n=[];try{for(var r=s(o),a=r.next();!a.done;a=r.next()){var c=a.value;this.isNoteMasked(c)&&n.push(c)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonMaskedNotes",{get:function(){var e=this;return p.default.allNotes.filter(function(t){return!e.isNoteMasked(t)})},enumerable:!0,configurable:!0}),e.prototype.addImplicitMasksToUserMasks=function(){var e=this;this._implicitMasks.forEach(function(t,o){e.addMask(o,t)})},e.prototype.removeImplicitMasksFromUserMasks=function(){var e=this;this._implicitMasks.forEach(function(t,o){e.removeMask(o,t)})},Object.defineProperty(e.prototype,"doUserMasksExist",{get:function(){return f.some(this._userMasks,function(e){return e.length>0})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"doImplicitMasksExist",{get:function(){return f.some(this._implicitMasks,function(e){return e.length>0})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"doAnyMasksExist",{get:function(){return this.doUserMasksExist||this.doImplicitMasksExist},enumerable:!0,configurable:!0}),a([d.observable],e.prototype,"_userMasks",void 0),a([d.computed],e.prototype,"_implicitMasks",null),a([d.computed],e.prototype,"userMasks",null),a([d.computed],e.prototype,"implicitMasks",null),a([d.computed],e.prototype,"userOrImplicitMasks",null),a([d.computed],e.prototype,"generationMasks",null),a([g.undoable("masks.maskNotes")],e.prototype,"maskNotes",null),a([g.undoable("masks.setMask")],e.prototype,"setMask",null),a([g.undoable("masks.setMasks")],e.prototype,"setMasks",null),a([d.computed],e.prototype,"maskedNotes",null),a([d.computed],e.prototype,"nonMaskedNotes",null),a([d.computed],e.prototype,"doUserMasksExist",null),a([d.computed],e.prototype,"doImplicitMasksExist",null),a([d.computed],e.prototype,"doAnyMasksExist",null),e}();t.default=new S,(b=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(b.register(a,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/core/masks.ts"),b.register(c,"__read","/Users/andycoenen/cannoneyed/cococonet/src/core/masks.ts"),b.register(i,"__spread","/Users/andycoenen/cannoneyed/cococonet/src/core/masks.ts"),b.register(s,"__values","/Users/andycoenen/cannoneyed/cococonet/src/core/masks.ts"),b.register(l,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/core/masks.ts"),b.register(u,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/core/masks.ts"),b.register(f,"_","/Users/andycoenen/cannoneyed/cococonet/src/core/masks.ts"),b.register(p,"editor_1","/Users/andycoenen/cannoneyed/cococonet/src/core/masks.ts"),b.register(y,"feature_flags_1","/Users/andycoenen/cannoneyed/cococonet/src/core/masks.ts"),b.register(v,"EditorMaskRegion","/Users/andycoenen/cannoneyed/cococonet/src/core/masks.ts"),b.register(S,"Masks","/Users/andycoenen/cannoneyed/cococonet/src/core/masks.ts")),(_=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&_(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},s=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,a){function c(e){try{s(n.next(e))}catch(e){a(e)}}function i(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(c,i)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var o,n,r,a,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,n=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){c.label=a[1];break}if(6===a[0]&&c.label<r[1]){c.label=r[1],r=a;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(a);break}r[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var d=u(o(23)),f=o(8),p=u(o(10)),y=o(4),h=o(11),g=u(o(96)),m=o(46),v=o(6),b=function(e){function t(t){var o=e.call(this)||this;return o.player=t,o}return c(t,e),t.prototype.run=function(e,t){var o=e.pitch,n=e.quantizedStartStep;y.editor.setNotePlaying(o,n+this.player.loopStart)},t.prototype.stop=function(){this.player.shouldLoop?this.player.loop():this.player.stop()},t}(d.BasePlayerCallback);t.CallbackObject=b;var _,S,E=function(){function e(){this.playerCallbackObject=new b(this),this.isPlayerLoaded=!1,this.isPlaying=!1,this.shouldLoop=!0,this.loopStart=0,this.loopEnd=v.TOTAL_SIXTEENTHS,this.player=new d.SoundFontPlayer(v.SOUNDFONT_URL,g.master,void 0,void 0,this.playerCallbackObject),this.bpm=v.DEFAULT_BPM,this.loadPlayer()}return e.prototype.loadPlayer=function(){return s(this,void 0,void 0,function(){var e,t;return l(this,function(o){switch(o.label){case 0:return e=h.range(v.MIN_PITCH,v.MAX_PITCH+1).map(function(e){return{pitch:e,velocity:v.NOTE_VELOCITY}}),t={notes:e},[4,this.player.loadSamples(t)];case 1:return o.sent(),this.isPlayerLoaded=!0,[2]}})})},e.prototype.togglePlay=function(){0!==y.editor.allNotes.length&&(this.isPlaying?this.stop():this.start())},e.prototype.playNote=function(e){var t=this;if(this.isPlayerLoaded){this.playNoteDown(e);var o=1/this.bpm*60/4*1e3,n=e.duration*o;setTimeout(function(){return t.playNoteUp(e)},n)}},e.prototype.playNoteDown=function(e){this.isPlayerLoaded&&(y.editor.setActiveNoteValue(e.pitch),this.player.playNoteDown(e.magentaNote))},e.prototype.playNoteUp=function(e){this.isPlayerLoaded&&(y.editor.setActiveNoteValue(null),this.player.playNoteUp(e.magentaNote))},e.prototype.start=function(){p.default.logEvent(p.Events.PLAY),this._start()},e.prototype._start=function(){if(this.isPlayerLoaded){if(0===y.editor.allNotes.length)return;var e=m.getMagentaNoteSequence(y.editor.unmutedNotes,this.bpm,y.editor.totalSixteenths),t=m.trim(e,this.loopStart,this.loopEnd,!0);t.notes=t.notes.filter(function(e){return e.quantizedStartStep!==e.quantizedEndStep}),this.player.start(t),this.isPlaying=!0}},e.prototype.loop=function(){y.editor.clearPlayingNotes(),this.start()},e.prototype.stop=function(){p.default.logEvent(p.Events.STOP),this._stop()},e.prototype._stop=function(){this.player.stop(),this.isPlaying=!1,y.editor.clearPlayingNotes()},e.prototype.restart=function(){this._stop(),this._start()},i([f.observable],e.prototype,"isPlayerLoaded",void 0),i([f.observable],e.prototype,"isPlaying",void 0),i([f.observable],e.prototype,"shouldLoop",void 0),i([f.observable],e.prototype,"loopStart",void 0),i([f.observable],e.prototype,"loopEnd",void 0),i([f.observable],e.prototype,"bpm",void 0),e}();t.default=new E,(_=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(_.register(c,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/core/player.ts"),_.register(i,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/core/player.ts"),_.register(s,"__awaiter","/Users/andycoenen/cannoneyed/cococonet/src/core/player.ts"),_.register(l,"__generator","/Users/andycoenen/cannoneyed/cococonet/src/core/player.ts"),_.register(u,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/core/player.ts"),_.register(d,"mm","/Users/andycoenen/cannoneyed/cococonet/src/core/player.ts"),_.register(p,"logging_1","/Users/andycoenen/cannoneyed/cococonet/src/core/player.ts"),_.register(g,"Tone","/Users/andycoenen/cannoneyed/cococonet/src/core/player.ts"),_.register(b,"CallbackObject","/Users/andycoenen/cannoneyed/cococonet/src/core/player.ts"),_.register(E,"Player","/Users/andycoenen/cannoneyed/cococonet/src/core/player.ts")),(S=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&S(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";o.r(t);var n=o(50);o.d(t,"hexToRgb",function(){return n.hexToRgb}),o.d(t,"rgbToHex",function(){return n.rgbToHex}),o.d(t,"hslToRgb",function(){return n.hslToRgb}),o.d(t,"decomposeColor",function(){return n.decomposeColor}),o.d(t,"recomposeColor",function(){return n.recomposeColor}),o.d(t,"getContrastRatio",function(){return n.getContrastRatio}),o.d(t,"getLuminance",function(){return n.getLuminance}),o.d(t,"emphasize",function(){return n.emphasize}),o.d(t,"fade",function(){return n.fade}),o.d(t,"darken",function(){return n.darken}),o.d(t,"lighten",function(){return n.lighten});var r=o(51);o.d(t,"createMuiTheme",function(){return r.default});var a=o(52);o.d(t,"createStyles",function(){return a.default});var c=o(53);o.d(t,"makeStyles",function(){return c.default});var i=o(54);o.d(t,"MuiThemeProvider",function(){return i.default});var s=o(55);o.d(t,"responsiveFontSizes",function(){return s.default});var l=o(56);o.d(t,"styled",function(){return l.default});var u=o(57);o.d(t,"easing",function(){return u.easing}),o.d(t,"duration",function(){return u.duration}),o.d(t,"formatMs",function(){return u.formatMs}),o.d(t,"isString",function(){return u.isString}),o.d(t,"isNumber",function(){return u.isNumber});var d=o(58);o.d(t,"useTheme",function(){return d.default});var f=o(59);o.d(t,"withStyles",function(){return f.default});var p=o(60);o.d(t,"withTheme",function(){return p.default})},function(e,t,o){e.exports=o(1)(10)},function(e,t,o){e.exports=o(1)(192)},function(e,t,o){e.exports=o(1)(5783)},function(e,t,o){e.exports=o(1)(5532)},function(e,t,o){e.exports=o(1)(5787)},function(e,t,o){e.exports=o(1)(5788)},function(e,t,o){e.exports=o(1)(194)},function(e,t,o){e.exports=o(1)(22)},function(e,t,o){e.exports=o(1)(35)},function(e,t,o){e.exports=o(1)(6)},function(e,t,o){e.exports=o(1)(5791)},function(e,t,o){"use strict";o.r(t);var n=o(62);o.d(t,"default",function(){return n.default})},function(e,t,o){e.exports=o(1)(5814)},function(e,t,o){e.exports=o(1)(5815)},function(e,t,o){e.exports=o(1)(5816)},function(e,t,o){e.exports=o(1)(5818)},function(e,t,o){e.exports=o(1)(5824)},function(e,t,o){e.exports=o(1)(5849)},function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,c,i=r(o(3)),s=o(7);function l(e){var t=s.style({width:e.width,display:"inline-block"});return i.default.createElement("div",{className:t})}t.Spacer=l,l.defaultProps={width:5},(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(a.register(r,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/spacer.tsx"),a.register(i,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/spacer.tsx"),a.register(l,"Spacer","/Users/andycoenen/cannoneyed/cococonet/src/components/spacer.tsx")),(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&c(e)}).call(this,o(2)(e))},function(e,t,o){e.exports=o(1)(5842)},function(e,t,o){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var o=function(e,t){var o=e[1]||"",n=e[3];if(!n)return o;if(t&&"function"==typeof btoa){var r=(c=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(c))))+" */"),a=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[o].concat(a).concat([r]).join("\n")}var c;return[o].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+o+"}":o}).join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var a=this[r][0];null!=a&&(n[a]=!0)}for(r=0;r<e.length;r++){var c=e[r];null!=c[0]&&n[c[0]]||(o&&!c[2]?c[2]=o:o&&(c[2]="("+c[2]+") and ("+o+")"),t.push(c))}},t}},function(e,t,o){var n,r,a={},c=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=n.apply(this,arguments)),r}),i=function(e){var t={};return function(e,o){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,o);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),s=null,l=0,u=[],d=o(123);function f(e,t){for(var o=0;o<e.length;o++){var n=e[o],r=a[n.id];if(r){r.refs++;for(var c=0;c<r.parts.length;c++)r.parts[c](n.parts[c]);for(;c<n.parts.length;c++)r.parts.push(v(n.parts[c],t))}else{var i=[];for(c=0;c<n.parts.length;c++)i.push(v(n.parts[c],t));a[n.id]={id:n.id,refs:1,parts:i}}}}function p(e,t){for(var o=[],n={},r=0;r<e.length;r++){var a=e[r],c=t.base?a[0]+t.base:a[0],i={css:a[1],media:a[2],sourceMap:a[3]};n[c]?n[c].parts.push(i):o.push(n[c]={id:c,parts:[i]})}return o}function y(e,t){var o=i(e.insertInto);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===e.insertAt)n?n.nextSibling?o.insertBefore(t,n.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),u.push(t);else if("bottom"===e.insertAt)o.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=i(e.insertAt.before,o);o.insertBefore(t,r)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return o.nc}();n&&(e.attrs.nonce=n)}return m(t,e.attrs),y(e,t),t}function m(e,t){Object.keys(t).forEach(function(o){e.setAttribute(o,t[o])})}function v(e,t){var o,n,r,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var c=l++;o=s||(s=g(t)),n=S.bind(null,o,c,!1),r=S.bind(null,o,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),y(e,t),t}(t),n=function(e,t,o){var n=o.css,r=o.sourceMap,a=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||a)&&(n=d(n));r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var c=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(c),i&&URL.revokeObjectURL(i)}.bind(null,o,t),r=function(){h(o),o.href&&URL.revokeObjectURL(o.href)}):(o=g(t),n=function(e,t){var o=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}.bind(null,o),r=function(){h(o)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=c()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var o=p(e,t);return f(o,t),function(e){for(var n=[],r=0;r<o.length;r++){var c=o[r];(i=a[c.id]).refs--,n.push(i)}e&&f(p(e,t),t);for(r=0;r<n.length;r++){var i;if(0===(i=n[r]).refs){for(var s=0;s<i.parts.length;s++)i.parts[s]();delete a[i.id]}}}};var b,_=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function S(e,t,o,n){var r=o?"":n.css;if(e.styleSheet)e.styleSheet.cssText=_(t,r);else{var a=document.createTextNode(r),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(a,c[t]):e.appendChild(a)}}},function(e,t,o){e.exports=o(1)(5811)},function(e,t,o){e.exports=o(1)(142)},function(e,t,o){e.exports=o(1)(79)},function(e,t,o){e.exports=o(1)(36)},,,function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=o(0),i=r(o(3)),s=o(80),l=a(o(81));o(126);var u,d,f=document.getElementById("root");s.render(i.createElement(c.AppContainer,null,i.createElement(l.default,null)),f),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(u.register(r,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/index.tsx"),u.register(a,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/index.tsx"),u.register(i,"React","/Users/andycoenen/cannoneyed/cococonet/src/index.tsx"),u.register(l,"app_1","/Users/andycoenen/cannoneyed/cococonet/src/index.tsx"),u.register(f,"rootEl","/Users/andycoenen/cannoneyed/cococonet/src/index.tsx")),(d=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&d(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=o(3))&&"object"==typeof n&&"default"in n?n.default:n;function a(e){return a.warnAboutHMRDisabled&&(a.warnAboutHMRDisabled=!0,console.error("React-Hot-Loader: misconfiguration detected, using production version in non-production environment."),console.error("React-Hot-Loader: Hot Module Replacement is not enabled.")),r.Children.only(e.children)}a.warnAboutHMRDisabled=!1;var c=function e(){return e.shouldWrapWithAppContainer?function(e){return function(t){return r.createElement(a,null,r.createElement(e,t))}}:function(e){return e}};c.shouldWrapWithAppContainer=!1;t.AppContainer=a,t.hot=c,t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){},t.cold=function(e){return e},t.configureComponent=function(){}},function(e,t,o){e.exports=o(1)(16)},function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,c,i=r(o(3)),s=r(o(82));function l(){return i.default.createElement(s.default,null)}t.default=l,(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(a.register(r,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/app.tsx"),a.register(i,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/app.tsx"),a.register(s,"main_1","/Users/andycoenen/cannoneyed/cococonet/src/components/app.tsx"),a.register(l,"App","/Users/andycoenen/cannoneyed/cococonet/src/components/app.tsx")),(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&c(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u,d,f=s(o(3)),p=o(5),y=o(7),h=s(o(83)),g=s(o(84)),m=s(o(17)),v=o(128),b=o(85),_=o(108),S=o(118),E=o(124),O=l(o(10)),L=o(4),M=o(14),N=s(o(9)),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.componentDidMount=function(){O.default.logEvent(O.Events.APP_LOAD,{baseline:N.default.baseline,id:N.default.id,url:window.location.href})},t.prototype.render=function(){var e=this,t=y.style({marginTop:20,width:"100%",height:"100%",display:"flex",flexDirection:"row",justifyContent:"center",flexGrow:1}),o=y.style({width:L.layout.editorWidth,height:"100%",display:"flex",flexDirection:"column",alignItems:"center"}),n=y.style({width:L.layout.sequencesWidth,height:"100%"});return f.default.createElement(v.ThemeProvider,{theme:M.theme},f.default.createElement(h.default,{position:"static",color:"primary"},f.default.createElement(g.default,null,f.default.createElement(m.default,{variant:"h6",color:"inherit"},"𝄡 Bach CoCoCo"))),f.default.createElement("div",{className:t,ref:function(t){return e.stageRef=t}},f.default.createElement("div",{className:o},f.default.createElement(_.Editor,null),f.default.createElement(b.Controls,null)),f.default.createElement("div",{className:n},f.default.createElement(S.Generate,null))),f.default.createElement("div",{id:"sheets-logging"},f.default.createElement("form",{action:"https://docs.google.com/forms/d/e/1FAIpQLSdbVw9HViwZtTFFmXGTVxRi3uoQrPk1zbbN3kG1tVxR-hq8EQ/formResponse",target:"sheets-logging-iframe",method:"POST",id:"sheets-logging-form"},f.default.createElement("textarea",{id:"sheets-logging-textarea",name:"entry.1164887905"})),f.default.createElement("iframe",{id:"sheets-logging-iframe",name:"sheets-logging-iframe"})),f.default.createElement(E.Working,{open:L.generator.isWorking,title:"Working..."}))},t=i([p.observer],t)}(f.default.Component);t.default=H,(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(u.register(c,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/components/main.tsx"),u.register(i,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/components/main.tsx"),u.register(s,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/main.tsx"),u.register(l,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/components/main.tsx"),u.register(f,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/main.tsx"),u.register(h,"AppBar_1","/Users/andycoenen/cannoneyed/cococonet/src/components/main.tsx"),u.register(g,"Toolbar_1","/Users/andycoenen/cannoneyed/cococonet/src/components/main.tsx"),u.register(m,"Typography_1","/Users/andycoenen/cannoneyed/cococonet/src/components/main.tsx"),u.register(O,"logging_1","/Users/andycoenen/cannoneyed/cococonet/src/components/main.tsx"),u.register(N,"feature_flags_1","/Users/andycoenen/cannoneyed/cococonet/src/components/main.tsx"),u.register(H,"Main","/Users/andycoenen/cannoneyed/cococonet/src/components/main.tsx")),(d=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&d(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";o.r(t);var n=o(26);o.d(t,"default",function(){return n.default})},function(e,t,o){"use strict";o.r(t);var n=o(27);o.d(t,"default",function(){return n.default})},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u,d,f=s(o(3)),p=o(7),y=s(o(18)),h=s(o(19)),g=s(o(32)),m=s(o(20)),v=s(o(21)),b=s(o(86)),_=s(o(87)),S=o(38),E=o(5),O=o(4),L=l(o(14)),M=o(12),N=o(102),H=o(68),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={keyDialogOpen:!1},t}return c(t,e),t.prototype.render=function(){var e=this,t=O.layout.editorWidth,o=p.style({width:t-0,display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:0,paddingRight:0,margin:"20px 0 60px",height:O.layout.controlsHeight}),n=!O.player.isPlayerLoaded||0===O.editor.allNotes.length,r=!O.player.isPlaying,a=O.generator.candidateSequences.length>1;return f.default.createElement("div",{className:o},f.default.createElement("div",null,f.default.createElement(y.default,{disabled:n,variant:"outlined",color:"primary",onClick:function(){return O.player.togglePlay()}},r?f.default.createElement(S.PlayArrow,null):f.default.createElement(S.Stop,null))),f.default.createElement("div",null,f.default.createElement(y.default,{disabled:!O.undo.canUndo,variant:"outlined",color:"primary",onClick:function(){return O.undo.undo()}},f.default.createElement(S.Undo,null)),f.default.createElement(H.Spacer,null),f.default.createElement(y.default,{disabled:!O.undo.canRedo,variant:"outlined",color:"primary",onClick:function(){return O.undo.redo()}},f.default.createElement(S.Redo,null))),f.default.createElement(_.default,{value:O.editor.selectedTool,exclusive:!0,onChange:function(e,t){null!==t&&O.editor.selectTool(t)}},f.default.createElement(b.default,{value:O.EditorTool.DRAW},f.default.createElement(S.Edit,null)),f.default.createElement(b.default,{value:O.EditorTool.MASK,disabled:a},f.default.createElement(S.SelectAll,null)),f.default.createElement(b.default,{value:O.EditorTool.ERASE},f.default.createElement(S.DeleteSweep,null))),f.default.createElement("div",null,f.default.createElement(h.default,null,f.default.createElement(v.default,{style:{color:L.VOICE_COLORS[O.editor.selectedVoice]},value:O.editor.selectedVoice,onChange:function(e){var t=e.target.value;null!==t&&(O.editor.selectVoice(Number(t)),O.editor.selectTool(O.EditorTool.DRAW,!1))},autoWidth:!0},f.default.createElement(m.default,{style:{color:L.COLOR_SOPRANO},value:M.Voice.SOPRANO},"Soprano"),f.default.createElement(m.default,{style:{color:L.COLOR_ALTO},value:M.Voice.ALTO},"Alto"),f.default.createElement(m.default,{style:{color:L.COLOR_TENOR},value:M.Voice.TENOR},"Tenor"),f.default.createElement(m.default,{style:{color:L.COLOR_BASS},value:M.Voice.BASS},"Bass")),f.default.createElement(g.default,{style:{width:100}},"Voice")),f.default.createElement(H.Spacer,{width:10}),f.default.createElement(h.default,null,f.default.createElement(v.default,{value:O.editor.quantizeStep,onChange:function(e){var t=e.target.value;null!==t&&(O.editor.selectQuantization(Number(t)),O.editor.selectedTool===O.EditorTool.ERASE&&O.editor.selectTool(O.EditorTool.DRAW,!1))},autoWidth:!0},f.default.createElement(m.default,{value:1},"1/16"),f.default.createElement(m.default,{value:2},"1/8"),f.default.createElement(m.default,{value:4},"1/4"),f.default.createElement(m.default,{value:8},"1/2")),f.default.createElement(g.default,{style:{width:100}},"Quantization"))),f.default.createElement("div",null,f.default.createElement(y.default,{onClick:function(){return e.setState({keyDialogOpen:!0})},variant:"outlined",color:"primary"},O.editor.key," ",O.editor.mode)),f.default.createElement(N.KeySignatures,{isDialogOpen:this.state.keyDialogOpen,onRequestClose:function(){return e.setState({keyDialogOpen:!1})}}))},t=i([E.observer],t)}(f.default.Component);t.Controls=k,(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(u.register(c,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/components/controls.tsx"),u.register(i,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/components/controls.tsx"),u.register(s,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/controls.tsx"),u.register(l,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/components/controls.tsx"),u.register(f,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/controls.tsx"),u.register(y,"Button_1","/Users/andycoenen/cannoneyed/cococonet/src/components/controls.tsx"),u.register(h,"FormControl_1","/Users/andycoenen/cannoneyed/cococonet/src/components/controls.tsx"),u.register(g,"FormHelperText_1","/Users/andycoenen/cannoneyed/cococonet/src/components/controls.tsx"),u.register(m,"MenuItem_1","/Users/andycoenen/cannoneyed/cococonet/src/components/controls.tsx"),u.register(v,"Select_1","/Users/andycoenen/cannoneyed/cococonet/src/components/controls.tsx"),u.register(b,"ToggleButton_1","/Users/andycoenen/cannoneyed/cococonet/src/components/controls.tsx"),u.register(_,"ToggleButtonGroup_1","/Users/andycoenen/cannoneyed/cococonet/src/components/controls.tsx"),u.register(L,"theme","/Users/andycoenen/cannoneyed/cococonet/src/components/controls.tsx"),u.register(k,"Controls","/Users/andycoenen/cannoneyed/cococonet/src/components/controls.tsx")),(d=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&d(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";o.r(t);var n=o(36);o.d(t,"default",function(){return n.default})},function(e,t,o){"use strict";o.r(t);var n=o(37);o.d(t,"default",function(){return n.default})},function(e,t,o){e.exports=o(1)(5895)},function(e,t,o){e.exports=o(1)(5907)},function(e,t,o){"use strict";
/**
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;Object.defineProperty(t,"__esModule",{value:!0});var n=o(91);t.Coconet=n.Coconet},function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(r,a){function c(e){try{s(n.next(e))}catch(e){a(e)}}function i(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(c,i)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var o,n,r,a,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,n=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){c.label=a[1];break}if(6===a[0]&&c.label<r[1]){c.label=r[1],r=a;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(a);break}r[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},c=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,a=o.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return c},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});
/**
 * Implementation for [Coconet]{@link
 * https://ismir2017.smcnus.org/wp-content/uploads/2017/10/187_Paper.pdf%7D}
 * models.
 *
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
var s,l,u=i(o(44)),d=i(o(45)),f=i(o(92)),p=o(93),y=o(40),h=o(6),g={useSoftmaxLoss:!0,batchNormVarianceEpsilon:1e-7,numInstruments:4,numFilters:128,numLayers:33,numRegularConvLayers:0,dilation:[[1,1],[2,2],[4,4],[8,8],[16,16],[16,32],[1,1],[2,2],[4,4],[8,8],[16,16],[16,32],[1,1],[2,2],[4,4],[8,8],[16,16],[16,32],[1,1],[2,2],[4,4],[8,8],[16,16],[16,32],[1,1],[2,2],[4,4],[8,8],[16,16],[16,32]],layers:null,interleaveSplitEveryNLayers:16,numPointwiseSplits:4},m=function(){function e(e,t){this.residualPeriod=2,this.outputForResidual=null,this.residualCounter=-1,this.rawVars=null,this.spec=e,this.rawVars=t}return e.prototype.dispose=function(){null!==this.rawVars&&u.dispose(this.rawVars),this.outputForResidual&&this.outputForResidual.dispose()},e.prototype.predictFromPianoroll=function(e,t){var o=this;return u.tidy(function(){for(var n=o.getConvnetInput(e,t),r=o.spec.layers.length,a=0;a<r;a++){o.residualCounter+=1,o.residualSave(n);var c=null;o.spec.interleaveSplitEveryNLayers&&a>0&&a<r-2&&a%(o.spec.interleaveSplitEveryNLayers+1)==0&&(c=o.spec.numPointwiseSplits),n=o.applyConvolution(n,o.spec.layers[a],a,a>=o.spec.numRegularConvLayers,c),n=o.applyResidual(n,0===a,a===r-1,a),n=o.applyActivation(n,o.spec.layers[a],a),n=o.applyPooling(n,o.spec.layers[a],a)}return o.computePredictions(n)})},e.prototype.computePredictions=function(e){return this.spec.useSoftmaxLoss?e.transpose([0,1,3,2]).softmax().transpose([0,1,3,2]):e.sigmoid()},e.prototype.residualReset=function(){this.outputForResidual=null,this.residualCounter=0},e.prototype.residualSave=function(e){this.residualCounter%this.residualPeriod==1&&(this.outputForResidual=e)},e.prototype.applyResidual=function(e,t,o,n){return null==this.outputForResidual?e:this.outputForResidual.shape[this.outputForResidual.shape.length-1]!==e.shape[e.shape.length-1]?(this.residualReset(),e):(this.residualCounter%this.residualPeriod==0&&(t||o||(e=e.add(this.outputForResidual))),e)},e.prototype.getVar=function(e,t){var o="model/conv"+t+"/"+e;return this.rawVars[o]},e.prototype.getSepConvVar=function(e,t){var o="model/conv"+t+"/SeparableConv2d/"+e;return this.rawVars[o]},e.prototype.getPointwiseSplitVar=function(e,t,o){var n="model/conv"+t+"/split_"+t+"_"+o+"/"+e;return this.rawVars[n]},e.prototype.applyConvolution=function(e,t,o,n,r){if(null==t.filters)return e;var a=t.filters,c=t.convStride||1,i=t.convPad?t.convPad.toLowerCase():"same",s=null;if(n){var l=this.getSepConvVar("depthwise_weights",o);if(r){s=u.depthwiseConv2d(e,l,[c,c],i,"NHWC",t.dilation);for(var d=u.split(s,r,s.rank-1),f=[],p=0;p<r;p++){var y=a[3]/r,h=this.getPointwiseSplitVar("kernel",o,p),g=(b=this.getPointwiseSplitVar("bias",o,p),u.matMul(d[p].reshape([-1,y]),h,!1,!1)),m=u.add(g,b);f.push(m.reshape([d[p].shape[0],d[p].shape[1],d[p].shape[2],y]))}s=u.concat(f,s.rank-1)}else{var v=this.getSepConvVar("pointwise_weights",o),b=this.getSepConvVar("biases",o);s=u.separableConv2d(e,l,v,[c,c],i,t.dilation,"NHWC").add(b)}}else{h=this.getVar("weights",o);var _=t.convStride||1,S=t.convPad?t.convPad.toLowerCase():"same";s=u.conv2d(e,h,[_,_],S,"NHWC",[1,1])}return this.applyBatchnorm(s,o)},e.prototype.applyBatchnorm=function(e,t){var o=this,n=this.getVar("gamma",t),r=this.getVar("beta",t),a=this.getVar("popmean",t),c=this.getVar("popvariance",t);if(p.IS_IOS){var i=c.arraySync()[0][0][0],s=u.tensor(i.map(function(e){return Math.sqrt(e+o.spec.batchNormVarianceEpsilon)}));return e.sub(a).mul(n.div(s)).add(r)}return u.batchNorm(e,u.squeeze(a),u.squeeze(c),u.squeeze(r),u.squeeze(n),this.spec.batchNormVarianceEpsilon)},e.prototype.applyActivation=function(e,t,o){return"identity"===t.activation?e:e.relu()},e.prototype.applyPooling=function(e,t,o){if(null==t.pooling)return e;var n=t.pooling,r=t.poolPad?t.poolPad.toLowerCase():"same";return u.maxPool(e,[n[0],n[1]],[n[0],n[1]],r)},e.prototype.getConvnetInput=function(e,t){return e=u.scalar(1,"float32").sub(t).mul(e),t=u.scalar(1,"float32").sub(t),e.concat(t,3)},e}(),v=function(){function e(e){this.spec=null,this.initialized=!1,this.checkpointURL=e,this.spec=g}return e.prototype.initialize=function(){return r(this,void 0,void 0,function(){var e,t,o=this;return a(this,function(n){switch(n.label){case 0:return this.dispose(),e=performance.now(),this.instantiateFromSpec(),[4,fetch(this.checkpointURL+"/weights_manifest.json").then(function(e){return e.json()}).then(function(e){return u.io.loadWeights(e,o.checkpointURL)})];case 1:return t=n.sent(),this.convnet=new m(this.spec,t),this.initialized=!0,d.logWithDuration("Initialized model",e,"Coconet"),[2]}})})},e.prototype.dispose=function(){this.convnet&&this.convnet.dispose(),this.initialized=!1},e.prototype.isInitialized=function(){return this.initialized},e.prototype.instantiateFromSpec=function(){this.spec.layers=[],this.spec.layers.push({filters:[3,3,2*this.spec.numInstruments,this.spec.numFilters]});for(var e=0;e<this.spec.numLayers-3;e++)this.spec.layers.push({filters:[3,3,this.spec.numFilters,this.spec.numFilters],dilation:this.spec.dilation?this.spec.dilation[e]:null});this.spec.layers.push({filters:[2,2,this.spec.numFilters,this.spec.numFilters]}),this.spec.layers.push({filters:[2,2,this.spec.numFilters,this.spec.numInstruments],activation:"identity"})},e.prototype.infill=function(e,t){return r(this,void 0,void 0,function(){var o,n,r,c,i,s,l,u,d,y;return a(this,function(a){switch(a.label){case 0:return f.assertIsRelativeQuantizedSequence(e),o=e.totalQuantizedSteps||e.notes[e.notes.length-1].quantizedEndStep,n=p.sequenceToPianoroll(e,o),r=.99,t?(r=t.temperature||r,i=this.getCompletionMaskFromInput(t.infillMask,n),(u=t.numIterations)?[3,2]:[4,this.getNumIterationsFromOuterMasks(i)]):[3,3];case 1:u=a.sent(),a.label=2;case 2:return c=u,s=t.moodConfig||s,l=t.similarDifferentConfig||l,[3,5];case 3:return i=this.getCompletionMask(n),[4,this.getNumIterationsFromOuterMasks(i)];case 4:c=a.sent(),a.label=5;case 5:return[4,this.run(n,c,r,i,s,l)];case 6:return d=a.sent(),y=p.pianorollToSequence(d,o),n.dispose(),d.dispose(),i.dispose(),[2,y]}})})},e.prototype.run=function(e,t,o,n,c,i){return r(this,void 0,Promise,function(){return a(this,function(r){return[2,this.gibbs(e,t,o,n,c,i)]})})},e.prototype.getCompletionMaskFromInput=function(e,t){if(e){for(var o=u.buffer([t.shape[1],4]),n=0;n<e.length;n++)o.set(1,e[n].step,e[n].voice);return u.tidy(function(){return o.toTensor().expandDims(1).tile([1,p.NUM_PITCHES,1]).expandDims(0)})}return this.getCompletionMask(t)},e.prototype.getCompletionMask=function(e){return u.tidy(function(){var t=e.sum(2,!0).equal(u.scalar(0,"float32"));return u.cast(t,"float32").add(u.zerosLike(e))})},e.prototype.getNumIterationsFromOuterMasks=function(e){return r(this,void 0,Promise,function(){var t,o,n;return a(this,function(r){switch(r.label){case 0:return t=96,[4,u.sum(u.max(e,2)).array()];case 1:return"number"==typeof(o=r.sent())?[2,o]:Array.isArray(o)?[2,"number"==typeof(n=o[0])?n:t]:[2,t]}})})},e.prototype.priorOverOriginalNotes=function(e,t){return void 0===t||void 0===t.discourageNotes||void 0===t.nudgeFactor?u.onesLike(e):t.discourageNotes?u.mul(u.scalar(t.nudgeFactor),u.scalar(1.5).sub(e)):u.mul(u.scalar(t.nudgeFactor),u.scalar(.5).add(e))},e.prototype.getTriadPitchBuffer=function(e,t,o,n){var r=y.makeNotesTriadForKey(t,o),a=e.shape[2],c=u.buffer([a]);if(n)for(var i=0;i<r.length;i++)c.set(1,r[i].pitch-p.MIN_PITCH);else{var s=new Set(r.map(function(e){return e.pitch}));for(i=0;i<a;i++)s.has(i+p.MIN_PITCH)?c.set(1.5,i):c.set(.5,i)}return c},e.prototype.mapTemperatureToNHeldSteps=function(e,t){return void 0===t&&(t=h.N_NOTE_DIVISIONS),e<=.25?t/2:e<=.75?t/4:e<=1.5?t/8:t/16},e.prototype.getMostLikelyMoodPrior=function(e,t,o){var n=this;if(void 0===t)return u.onesLike(e);for(var r=c(e.shape,4),a=r[0],i=r[1],s=r[2],l=r[3],d=t.happy?y.getAllHappyTriads():y.getAllSadTriads(),f=i/1,p=d.map(function(t){return u.tidy(function(){return n.getTriadPitchBuffer(e,t.key,t.quality,!0).toTensor().expandDims(0).tile([1,1]).expandDims(2).tile([1,1,l]).expandDims(0).tile([a,1,1,1])})}),h=u.concat(p,0),g=h.shape[0],m=[],v=0;v<f;v++){var b=e.slice([0,1*v,0,0],[a,1,s,l]),_=b.tile([g,1,1,1]),S=u.mulStrict(_,h).sum([1,2,3]),E=u.argMax(S),O=h.gather(E,0).expandDims(0);m.push(O),b.dispose(),_.dispose(),S.dispose(),E.dispose()}return p.forEach(function(e){return e.dispose()}),h.dispose(),u.tidy(function(){var e=u.concat(m,1);return m.forEach(function(e){return e.dispose()}),e})},e.prototype.getRandomMoodPrior=function(e,t,o){if(void 0===t)return u.onesLike(e);for(var n=c(e.shape,4),r=n[0],a=n[1],i=(n[2],n[3]),s=t.happy?y.getHappyTriadsForKey(t.key,t.mode):y.getSadTriadsForKey(t.key,t.mode),l=this.mapTemperatureToNHeldSteps(o),d=a/l,f=[],p=0;p<d;p++){var h=s[Math.floor(Math.random()*s.length)],g=this.getTriadPitchBuffer(e,h.key,h.quality,!1).toTensor().expandDims(0).tile([l,1]);f.push(g)}return u.concat(f,0).expandDims(2).tile([1,1,i]).expandDims(0).tile([r,1,1,1])},e.prototype.gibbs=function(e,t,o,n,c,i){return r(this,void 0,Promise,function(){var r,s,l,d,f,p,y=this;return a(this,function(h){switch(h.label){case 0:r=u.scalar(t,"float32"),s=e.clone(),c||(l=this.priorOverOriginalNotes(e,i)),d=function(t){var d,p,h,g;return a(this,function(a){switch(a.label){case 0:return d=f.yaoSchedule(t,r),p=f.bernoulliMask(s.shape,d,n),[4,u.nextFrame()];case 1:return a.sent(),h=u.tidy(function(){return y.convnet.predictFromPianoroll(s,p)}),[4,u.nextFrame()];case 2:return a.sent(),c&&(l=u.tidy(function(){var t=y.priorOverOriginalNotes(e,i),n=y.getMostLikelyMoodPrior(y.nudgeWithPrior(h,t),c,o);return y.nudgeWithPrior(t,n)})),g=l?f.nudgeWithPrior(h,l):h,[4,u.nextFrame()];case 3:return a.sent(),s=u.tidy(function(){var e=y.samplePredictions(g,o),t=u.where(u.cast(p,"bool"),e,s);return s.dispose(),h.dispose(),g.dispose(),p.dispose(),d.dispose(),t}),[4,u.nextFrame()];case 4:return a.sent(),[2]}})},f=this,p=0,h.label=1;case 1:return p<t?[5,d(p)]:[3,4];case 2:h.sent(),h.label=3;case 3:return p++,[3,1];case 4:return r.dispose(),[2,s]}})})},e.prototype.yaoSchedule=function(e,t){return u.tidy(function(){var o=u.scalar(.1,"float32"),n=u.scalar(.9,"float32"),r=u.scalar(.7,"float32"),a=n.sub(o).mul(u.scalar(e,"float32")).div(t),c=n.sub(a).div(r);return o.reshape([1]).concat(c.reshape([1])).max()})},e.prototype.bernoulliMask=function(e,t,o){return u.tidy(function(){var n=c(e,4),r=n[0],a=n[1],i=n[2],s=n[3],l=u.tile(u.randomUniform([r,a,1,s],0,1,"float32"),[1,1,i,1]).less(t);return u.cast(l,"float32").mul(o)})},e.prototype.nudgeWithPrior=function(e,t){return u.tidy(function(){var o=u.add(u.log(e),u.log(t));return u.exp(o)})},e.prototype.samplePredictions=function(e,t){return u.tidy(function(){e=u.pow(e,u.scalar(1/t,"float32"));var o=u.cumsum(e,2,!1,!1),n=o.slice([0,0,o.shape[2]-1,0],[o.shape[0],o.shape[1],1,o.shape[3]]),r=u.randomUniform(n.shape,0,1,"float32").mul(n).less(o).argMax(2);return u.oneHot(r.flatten(),e.shape[2],1,0).reshape([e.shape[0],e.shape[1],e.shape[3],e.shape[2]]).transpose([0,1,3,2])})},e}();t.Coconet=v,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(s.register(r,"__awaiter","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/model.ts"),s.register(a,"__generator","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/model.ts"),s.register(c,"__read","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/model.ts"),s.register(i,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/model.ts"),s.register(u,"tf","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/model.ts"),s.register(d,"logging","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/model.ts"),s.register(f,"sequences","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/model.ts"),s.register(g,"DEFAULT_SPEC","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/model.ts"),s.register(m,"ConvNet","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/model.ts"),s.register(v,"Coconet","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/model.ts")),(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&l(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){
/**
 * A library for common manipulations of `NoteSequence`s.
 *
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var c,i,s=function(e){function t(t){var o=this.constructor,n=e.call(this,t)||this;return Object.setPrototypeOf(n,o.prototype),n}return a(t,e),t}(Error);function l(e){return e.quantizationInfo&&e.quantizationInfo.stepsPerQuarter>0}function u(e){if(!l(e))throw new s("NoteSequence "+e.id+" is not quantized or is quantized based on absolute timing")}t.QuantizationStatusException=s,t.isRelativeQuantizedSequence=l,t.assertIsRelativeQuantizedSequence=u,(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(c.register(a,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/magenta/sequences.ts"),c.register(s,"QuantizationStatusException","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/magenta/sequences.ts"),c.register(l,"isRelativeQuantizedSequence","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/magenta/sequences.ts"),c.register(u,"assertIsRelativeQuantizedSequence","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/magenta/sequences.ts")),(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&i(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){
/**
 * Utility functions for the [Coconet]{@link} model.
 *
 * @license
 * Copyright 2019 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a,c,i=r(o(44)),s=o(23),l=r(o(45));function u(e,o){for(var n=i.tidy(function(){return e.reshape([o,t.NUM_PITCHES,t.NUM_VOICES]).arraySync()}),r=s.NoteSequence.create(),a=[],c=0;c<o;c++)for(var l=0;l<t.NUM_PITCHES;l++)for(var u=0;u<t.NUM_VOICES;u++){if(1===n[c][l][u]){var d=s.NoteSequence.Note.create({pitch:l+t.MIN_PITCH,instrument:u,quantizedStartStep:c,quantizedEndStep:c+1});a.push(d)}}return r.notes=a,r.totalQuantizedSteps=a[a.length-1].quantizedEndStep,r.quantizationInfo={stepsPerQuarter:4},r}function d(e,o){var n=i.tidy(function(){return i.zeros([o,t.NUM_PITCHES,t.NUM_VOICES]).arraySync()});return e.notes.forEach(function(r){var a=r.pitch-t.MIN_PITCH,c=r.quantizedStartStep,i=r.quantizedEndStep-r.quantizedStartStep,s=r.instrument;if(s<0||s>=t.NUM_VOICES)l.log("Found invalid voice "+s+". Skipping.","Coconet",l.Level.WARN);else{if(c+i>o)throw new Error("NoteSequence "+e.id+" has notes that are longer than the sequence's\n          totalQuantizedSteps.");for(var u=c;u<c+i;u++)n[u][a][s]=1}}),i.tensor([n])}t.IS_IOS=/iPad|iPhone|iPod/.test(navigator.userAgent),t.NUM_PITCHES=46,t.MIN_PITCH=36,t.NUM_VOICES=4,t.pianorollToSequence=u,t.sequenceToPianoroll=d,(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(a.register(r,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/coconet_utils.ts"),a.register(i,"tf","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/coconet_utils.ts"),a.register(l,"logging","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/coconet_utils.ts"),a.register(u,"pianorollToSequence","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/coconet_utils.ts"),a.register(d,"sequenceToPianoroll","/Users/andycoenen/cannoneyed/cococonet/src/core/coconet/coconet_utils.ts")),(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&c(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},c=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,a=o.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return c},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=i(o(11)),u=o(8),d=o(4),f=o(6),p=s(o(10)),y=o(12),h=i(o(9));function g(e,t){return void 0===t&&(t=Math.round),t(e/d.editor.quantizeStep)*d.editor.quantizeStep}function m(e){var t=d.layout.notesWidth;return g(v(Math.floor(e/t*d.editor.totalSixteenths)),Math.floor)}function v(e,t){return void 0===t&&(t=!1),l.default.clamp(e,0,d.editor.totalSixteenths-(t?0:1))}function b(e){return l.default.clamp(e,f.MIN_PITCH,f.MAX_PITCH)}var _,S,E=function(){function e(){var e=this;this.noteDragStartX=0,this.noteDragStartY=0,this.noteDragStartPosition=0,this.noteDragStartPitch=0,this.handleNoteHover=function(t){return function(o){e.isEraseToolDragging&&d.editor.removeNote(t)}},this.handleNoteDrag=function(t){return function(o){var n=o.clientX-e.noteDragStartX,r=o.clientY-e.noteDragStartY,a=Math.floor(n/d.layout.sixteenthWidth),c=Math.floor(r/d.layout.noteHeight),i=g(a),s=v(e.noteDragStartPosition+i),l=b(e.noteDragStartPitch-c),u=d.editor.isPitchInScale(l);(!d.editor.constrainToKey||u)&&(s===t.position&&l===t.pitch||(t.pitch=l,d.player.playNote(t)))}},this.handleNoteMouseDown=function(t){return function(o){d.editor.selectedTool===d.EditorTool.ERASE?d.editor.removeNote(t):d.editor.selectedTool===d.EditorTool.DRAW&&e.handleStartNoteDrag(t,o)}},this.loopStartDragStartX=0,this.loopEndDragStartX=0,this.loopStartDragStartPosition=0,this.loopEndDragStartPosition=0,this.handleLoopStartDrag=function(t){var o=t.clientX-e.loopStartDragStartX,n=g(Math.floor(o/d.layout.sixteenthWidth)),r=v(e.loopStartDragStartPosition+n,!0);r!==d.player.loopStart&&r<d.player.loopEnd&&(d.player.loopStart=r)},this.handleLoopEndDrag=function(t){var o=t.clientX-e.loopEndDragStartX,n=g(Math.floor(o/d.layout.sixteenthWidth)),r=v(e.loopEndDragStartPosition+n,!0);r!==d.player.loopEnd&&r>d.player.loopStart&&(d.player.loopEnd=r)},this.handleLoopStartMouseDown=function(t){t.preventDefault(),e.loopStartDragStartX=t.clientX,e.loopStartDragStartPosition=d.player.loopStart;var o=e.handleLoopStartDrag;document.addEventListener("mousemove",o),document.addEventListener("mouseup",function e(){p.default.logEvent(p.Events.CHANGE_LOOP,[d.player.loopStart,d.player.loopEnd]),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)})},this.handleLoopEndMouseDown=function(t){t.preventDefault(),e.loopEndDragStartX=t.clientX,e.loopEndDragStartPosition=d.player.loopEnd;var o=e.handleLoopEndDrag;document.addEventListener("mousemove",o),document.addEventListener("mouseup",function e(){p.default.logEvent(p.Events.CHANGE_LOOP,[d.player.loopStart,d.player.loopEnd]),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)})},this.isMaskToolDragging=!1,this.isEraseToolDragging=!1,this.isDrawToolDragging=!1,this.handleDrawMouseDown=function(t,o,n){var r=d.editor.getPitchFromScaleIndex(t),a=d.editor.selectedVoice,c=o*d.editor.quantizeStep,i=d.editor.quantizeStep;if(!d.editor.constrainToKey||d.editor.isPitchInScale(r)){var s=new y.Note(r,c,i,y.Source.USER,a),l=document.getElementById("editor-grid");e.gridBounds=l.getBoundingClientRect(),d.editor.beginDrawingNote(s),d.player.playNote(s)}},this.handleDrawMouseMove=function(t){var o=d.editor.noteBeingDrawn;if(o){var n=m(t.clientX-e.gridBounds.x);n>=o.position&&n+d.editor.quantizeStep!==o.end&&(o.moveEnd(n+d.editor.quantizeStep),d.editor.trimNoteBeingDrawnSequence())}},this.handleGridMouseDown=function(t,o){return function(n){var r=function(){},a=function(){};d.editor.selectedTool===d.EditorTool.ERASE?(e.isEraseToolDragging=!0,r=function(){return e.isEraseToolDragging=!1}):d.editor.selectedTool===d.EditorTool.DRAW&&(e.isDrawToolDragging=!0,r=function(){e.isDrawToolDragging=!1,d.editor.endDrawingNote()},e.handleDrawMouseDown(t,o,n),a=e.handleDrawMouseMove);document.addEventListener("mousemove",a),document.addEventListener("mouseup",function e(){r(),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",e)})}},this.maskToolDragStartClientXY=[0,0],this.maskToolDragStartXY=[0,0],this.maskToolDragXY=[0,0],this.maskToolShiftDrag=!1,this.emptyMaskDeselectsAll=!1,this.handleMaskToolDrag=function(t){e.maskToolDragXY=[t.clientX-e.maskToolDragStartClientXY[0]+e.maskToolDragStartXY[0],t.clientY-e.maskToolDragStartClientXY[1]+e.maskToolDragStartXY[1]]},this.handleMaskToolMouseDown=function(t){t.preventDefault(),e.maskToolShiftDrag=t.shiftKey;var o=t.target.getBoundingClientRect();e.maskToolDragStartXY=[t.clientX-o.left,t.clientY-o.top],e.maskToolDragXY=[t.clientX-o.left,t.clientY-o.top],e.maskToolDragStartClientXY=[t.clientX,t.clientY],e.isMaskToolDragging=!0;document.addEventListener("mousemove",e.handleMaskToolDrag),document.addEventListener("mouseup",function t(){var o=c(e.maskToolDragStartXY,2),n=o[0],r=o[1],a=c(e.maskToolDragXY,2),i=a[0],s=a[1],l=r<=s?r:s,u=n>i?n:i,y=r>s?r:s,h=[g((n<=i?n:i)/d.layout.sixteenthWidth,Math.floor),g(u/d.layout.sixteenthWidth,Math.ceil)],m=[f.MAX_PITCH-Math.floor(y/d.layout.noteHeight),f.MAX_PITCH-Math.floor(l/d.layout.noteHeight)];d.undo.beginUndoable("maskTool.drawMasks");var v=d.editor.getNotesInRange(h,m);if(0===v.length&&e.emptyMaskDeselectsAll)d.masks.clearMasks();else{var b=!e.maskToolShiftDrag;d.generator.candidateSequences.length>0&&(d.generator.commitSelectedCandidateSequence(),p.default.logEvent(p.Events.IMPLICITLY_COMMIT_CANDIDATE,d.masks.userMasks)),d.masks.maskNotes(v,b)}d.undo.completeUndoable("maskTool.drawMasks"),p.default.logEvent(p.Events.USE_MASK_TOOL,d.masks.userMasks),e.isMaskToolDragging=!1,e.maskToolDragStartClientXY=[0,0],e.maskToolDragStartXY=[0,0],e.maskToolDragXY=[0,0],e.maskToolShiftDrag=!1,document.removeEventListener("mousemove",e.handleMaskToolDrag),document.removeEventListener("mouseup",t)})},this.maskLaneDragStartX=0,this.maskLaneDragX=0,this.maskLaneDragStartClientX=0,this.hasMaskDragMoved=!1,this.maskLaneShiftDrag=!1,this.handleMaskLaneMouseDown=function(t,o){return void 0===o&&(o=!1),function(n){d.undo.beginUndoable("masks.drawMaskLane"),e.maskLaneShiftDrag=n.shiftKey,o&&(d.generator.commitSelectedCandidateSequence(),p.default.logEvent(p.Events.IMPLICITLY_COMMIT_CANDIDATE,d.masks.userMasks)),n.preventDefault();var r=document.getElementById("editor-grid").getBoundingClientRect();e.maskLaneDragStartX=n.clientX-r.left,e.maskLaneDragX=n.clientX-r.left,e.maskLaneDragStartClientX=n.clientX,e.hasMaskDragMoved=!1;var a=function(o){e.maskLaneDragX=o.clientX-e.maskLaneDragStartClientX+e.maskLaneDragStartX,0!==e.maskLaneDragStartX-e.maskLaneDragX&&(e.hasMaskDragMoved=!0);var n=e.maskLaneDragStartX,r=e.maskLaneDragX,a=n>r?n:r,c=v(g((n<=r?n:r)/d.layout.sixteenthWidth,Math.floor),!0),i=v(g(a/d.layout.sixteenthWidth,Math.ceil),!0),s=l.default.range(c,i);e.maskLaneShiftDrag?d.masks.addMask(t,s):d.masks.setMask(t,s)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",function o(){if(!e.hasMaskDragMoved){var n=d.player.loopStart,r=d.player.loopEnd,c=l.default.range(n,r);e.maskLaneShiftDrag?d.masks.addMask(t,c):d.masks.setMask(t,c)}p.default.logEvent(p.Events.USE_MASK_LANE,d.masks.userMasks),e.hasMaskDragMoved=!1,d.undo.completeUndoable("masks.drawMaskLane"),document.removeEventListener("mouseup",o),document.removeEventListener("mousemove",a)})}},this.handleMaskRectClick=function(t,o,n){return void 0===n&&(n=!1),function(){e.hasMaskDragMoved||(n?(d.generator.commitSelectedCandidateSequence(),p.default.logEvent(p.Events.IMPLICITLY_COMMIT_CANDIDATE,d.masks.userMasks)):d.masks.removeMask(t,o),p.default.logEvent(p.Events.USE_MASK_LANE,d.masks.userMasks))}};var t=h.default.baseline;this.emptyMaskDeselectsAll=!!t}return e.prototype.handleStartNoteDrag=function(e,t){d.editor.startNoteDrag(),t.preventDefault(),this.noteDragStartX=t.clientX,this.noteDragStartY=t.clientY,this.noteDragStartPosition=e.position,this.noteDragStartPitch=e.pitch;var o=this.handleNoteDrag(e);document.addEventListener("mousemove",o),document.addEventListener("mouseup",function t(){d.editor.endNoteDrag(e),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",t)})},e.prototype.handleGridClick=function(e,t){if(d.editor.selectedTool===d.EditorTool.DRAW){var o=d.editor.getPitchFromScaleIndex(e),n=t*d.editor.quantizeStep,r=d.editor.quantizeStep,a=new y.Note(o,n,r);d.editor.addNote(a),d.player.playNote(a)}},a([u.observable],e.prototype,"isMaskToolDragging",void 0),a([u.observable],e.prototype,"isEraseToolDragging",void 0),a([u.observable],e.prototype,"isDrawToolDragging",void 0),a([u.observable],e.prototype,"maskToolDragStartXY",void 0),a([u.observable],e.prototype,"maskToolDragXY",void 0),e}();t.default=new E,(_=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(_.register(a,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/core/interactions.ts"),_.register(c,"__read","/Users/andycoenen/cannoneyed/cococonet/src/core/interactions.ts"),_.register(i,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/core/interactions.ts"),_.register(s,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/core/interactions.ts"),_.register(l,"lodash_1","/Users/andycoenen/cannoneyed/cococonet/src/core/interactions.ts"),_.register(p,"logging_1","/Users/andycoenen/cannoneyed/cococonet/src/core/interactions.ts"),_.register(h,"feature_flags_1","/Users/andycoenen/cannoneyed/cococonet/src/core/interactions.ts"),_.register(g,"quantizePosition","/Users/andycoenen/cannoneyed/cococonet/src/core/interactions.ts"),_.register(m,"getQuantizedPositionFromX","/Users/andycoenen/cannoneyed/cococonet/src/core/interactions.ts"),_.register(v,"clampPosition","/Users/andycoenen/cannoneyed/cococonet/src/core/interactions.ts"),_.register(b,"clampPitch","/Users/andycoenen/cannoneyed/cococonet/src/core/interactions.ts"),_.register(E,"Interactions","/Users/andycoenen/cannoneyed/cococonet/src/core/interactions.ts")),(S=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&S(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var c,i,s=r(o(48)),l=a(o(15)),u=r(o(97)),d=r(o(16)),f=o(12),p=o(11),y=100,h=function(){return function(){var e=this;this.handlePlayPause=p.debounce(function(){s.default.togglePlay()},y),this.handleKeyDown=function(t){if(" "===t.key)e.handlePlayPause();else if("s"!==t.key||t.metaKey)if("a"!==t.key||t.metaKey)if("t"!==t.key||t.metaKey)if("b"!==t.key||t.metaKey)if("z"===t.key&&t.metaKey&&!t.shiftKey)d.default.undo();else if("z"===t.key&&t.metaKey&&t.shiftKey)d.default.redo();else{if("s"===t.key&&t.metaKey)return t.preventDefault(),u.default.saveJSON(),!1;if("l"===t.key&&t.metaKey)return t.preventDefault(),u.default.loadJSON(),!1;"Backspace"===t.key&&l.default.removeMaskedNotes()}else l.default.selectVoice(f.Voice.BASS),l.default.selectTool(l.EditorTool.DRAW,!1);else l.default.selectVoice(f.Voice.TENOR),l.default.selectTool(l.EditorTool.DRAW,!1);else l.default.selectVoice(f.Voice.ALTO),l.default.selectTool(l.EditorTool.DRAW,!1);else l.default.selectVoice(f.Voice.SOPRANO),l.default.selectTool(l.EditorTool.DRAW,!1)},document.addEventListener("keydown",this.handleKeyDown,!1)}}();t.default=new h,(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(c.register(r,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/core/keyboard.ts"),c.register(a,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/core/keyboard.ts"),c.register(s,"player_1","/Users/andycoenen/cannoneyed/cococonet/src/core/keyboard.ts"),c.register(l,"editor_1","/Users/andycoenen/cannoneyed/cococonet/src/core/keyboard.ts"),c.register(u,"save_load_1","/Users/andycoenen/cannoneyed/cococonet/src/core/keyboard.ts"),c.register(d,"undo_1","/Users/andycoenen/cannoneyed/cococonet/src/core/keyboard.ts"),c.register(y,"DEBOUNCE_TIME_MS","/Users/andycoenen/cannoneyed/cococonet/src/core/keyboard.ts"),c.register(h,"KeyboardManager","/Users/andycoenen/cannoneyed/cococonet/src/core/keyboard.ts")),(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&i(e)}).call(this,o(2)(e))},function(e,t,o){e.exports=o(1)(187)},function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var c,i,s=o(4),l=o(43),u=r(o(9)),d=a(o(10)),f=function(){function e(){}return e.prototype.saveJSON=function(){var e=s.undo.getUndoStep();d.default.logEvent(d.Events.SAVE_STATE,e);var t=JSON.stringify(e),o=new Blob([t],{type:"application/json"}),n=u.default.id+"_variant-"+u.default.variant;this.downloadBlob(o,"cococo_state_"+l.getDateString()+"_"+n)},e.prototype.loadJSON=function(){var e=document.createElement("input");e.type="file",e.click(),e.onchange=function(e){var t=e.target.files[0],o=new FileReader;o.readAsText(t,"UTF-8"),o.onload=function(e){var t=e.target.result,o=JSON.parse(t);console.log(o),s.undo.rehydrateStep(o)}}},e.prototype.downloadBlob=function(e,t){var o=URL.createObjectURL(e),n=document.createElement("a");n.href=o,n.download=t||"download";n.addEventListener("click",function e(){setTimeout(function(){URL.revokeObjectURL(o),n.removeEventListener("click",e)},150)},!1),n.click()},e}();t.SaveLoad=f,t.default=new f,(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(c.register(r,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/core/save-load.ts"),c.register(a,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/core/save-load.ts"),c.register(u,"feature_flags_1","/Users/andycoenen/cannoneyed/cococonet/src/core/save-load.ts"),c.register(d,"logging_1","/Users/andycoenen/cannoneyed/cococonet/src/core/save-load.ts"),c.register(f,"SaveLoad","/Users/andycoenen/cannoneyed/cococonet/src/core/save-load.ts")),(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&i(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i,s,l=o(8),u=c(o(15)),d=c(o(9)),f=o(6),p=function(){function e(){var e=this;this.editorHeight=0,this.editorWidth=1200,this.controlsHeight=50,this.sequencesWidth=200,this.sequenceHeight=80,this.loopHandleHeight=f.LOOP_HANDLE_HEIGHT,this.loopHandleMargin=f.LOOP_HANDLE_MARGIN,window.onresize=function(){return e.handleResize()},this.handleResize()}return e.prototype.computeEditorHeight=function(){var e=document.getElementById("editor-container");if(e){var t=e.getBoundingClientRect().height;this.editorHeight=t}},e.prototype.handleResize=function(){var e=window.innerWidth,t=f.DEFAULT_EDITOR_WIDTH+f.DEFAULT_SEQUENCES_WIDTH,o=Math.min(e,t);this.sequencesWidth=f.DEFAULT_SEQUENCES_WIDTH,this.editorWidth=o-this.sequencesWidth},Object.defineProperty(e.prototype,"maskLanesHeight",{get:function(){return d.default.baseline?0:4*f.MASK_LANE_HEIGHT},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pianoRollWidth",{get:function(){var e=this.editorHeight/20;return Math.max(f.PIANO_ROLL_WIDTH,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notesHeight",{get:function(){return this.editorHeight-this.loopHandleHeight-this.maskLanesHeight-this.loopHandleMargin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notesWidth",{get:function(){return this.editorWidth-this.pianoRollWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"noteHeight",{get:function(){return this.notesHeight/u.default.scale.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sixteenthWidth",{get:function(){return this.notesWidth/u.default.totalSixteenths},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maskLanesY",{get:function(){return this.loopHandleHeight+this.loopHandleMargin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notesY",{get:function(){return this.maskLanesY+this.maskLanesHeight},enumerable:!0,configurable:!0}),a([l.observable],e.prototype,"editorHeight",void 0),a([l.observable],e.prototype,"editorWidth",void 0),a([l.observable],e.prototype,"controlsHeight",void 0),a([l.observable],e.prototype,"sequencesWidth",void 0),a([l.observable],e.prototype,"sequenceHeight",void 0),a([l.observable],e.prototype,"loopHandleHeight",void 0),a([l.observable],e.prototype,"loopHandleMargin",void 0),a([l.computed],e.prototype,"maskLanesHeight",null),a([l.computed],e.prototype,"pianoRollWidth",null),a([l.computed],e.prototype,"notesHeight",null),a([l.computed],e.prototype,"notesWidth",null),a([l.computed],e.prototype,"noteHeight",null),a([l.computed],e.prototype,"sixteenthWidth",null),a([l.computed],e.prototype,"maskLanesY",null),a([l.computed],e.prototype,"notesY",null),e}();t.default=new p,(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(i.register(a,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/core/layout.ts"),i.register(c,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/core/layout.ts"),i.register(u,"editor_1","/Users/andycoenen/cannoneyed/cococonet/src/core/layout.ts"),i.register(d,"feature_flags_1","/Users/andycoenen/cannoneyed/cococonet/src/core/layout.ts"),i.register(p,"Layout","/Users/andycoenen/cannoneyed/cococonet/src/core/layout.ts")),(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&s(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};t.default=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};t.default=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600"};t.default=n},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l,u,d=s(o(3)),f=o(5),p=s(o(18)),y=s(o(61)),h=s(o(103)),g=s(o(104)),m=s(o(105)),v=s(o(32)),b=s(o(19)),_=s(o(106)),S=s(o(20)),E=s(o(21)),O=s(o(107)),L=o(6),M=o(4),N=o(68),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this;return d.default.createElement(y.default,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:this.props.isDialogOpen,onClose:function(){return e.props.onRequestClose()}},d.default.createElement(m.default,null,"Edit Key"),d.default.createElement(g.default,null,d.default.createElement("form",null,d.default.createElement(b.default,null,d.default.createElement(E.default,{value:M.editor.key,onChange:function(e){var t=e.target.value;t&&M.editor.selectKey(t)},autoWidth:!0},L.KEY_NAMES.map(function(e){return d.default.createElement(S.default,{key:e,value:e},e)})),d.default.createElement(v.default,{style:{width:60}},"Key")),d.default.createElement(N.Spacer,{width:30}),d.default.createElement(b.default,null,d.default.createElement(E.default,{value:M.editor.mode,onChange:function(e){var t=e.target.value;t&&M.editor.selectMode(t)},autoWidth:!0},L.MODE_NAMES.map(function(e){return d.default.createElement(S.default,{key:e,value:e},e)})),d.default.createElement(v.default,{style:{width:100}},"Mode"))),d.default.createElement("div",null,d.default.createElement(_.default,{control:d.default.createElement(O.default,{checked:M.editor.constrainToKey,onChange:function(e){return M.editor.setConstrainToKey(e.target.checked)},value:M.editor.constrainToKey,color:"primary"}),label:"Restrict note editing to key"}))),d.default.createElement(h.default,null,d.default.createElement(p.default,{onClick:function(){return e.props.onRequestClose()},color:"primary"},"Ok")))},t=i([f.observer],t)}(d.default.Component);t.KeySignatures=H,(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(l.register(c,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/components/key-signatures.tsx"),l.register(i,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/components/key-signatures.tsx"),l.register(s,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/key-signatures.tsx"),l.register(d,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/key-signatures.tsx"),l.register(p,"Button_1","/Users/andycoenen/cannoneyed/cococonet/src/components/key-signatures.tsx"),l.register(y,"Dialog_1","/Users/andycoenen/cannoneyed/cococonet/src/components/key-signatures.tsx"),l.register(h,"DialogActions_1","/Users/andycoenen/cannoneyed/cococonet/src/components/key-signatures.tsx"),l.register(g,"DialogContent_1","/Users/andycoenen/cannoneyed/cococonet/src/components/key-signatures.tsx"),l.register(m,"DialogTitle_1","/Users/andycoenen/cannoneyed/cococonet/src/components/key-signatures.tsx"),l.register(v,"FormHelperText_1","/Users/andycoenen/cannoneyed/cococonet/src/components/key-signatures.tsx"),l.register(b,"FormControl_1","/Users/andycoenen/cannoneyed/cococonet/src/components/key-signatures.tsx"),l.register(_,"FormControlLabel_1","/Users/andycoenen/cannoneyed/cococonet/src/components/key-signatures.tsx"),l.register(S,"MenuItem_1","/Users/andycoenen/cannoneyed/cococonet/src/components/key-signatures.tsx"),l.register(E,"Select_1","/Users/andycoenen/cannoneyed/cococonet/src/components/key-signatures.tsx"),l.register(O,"Switch_1","/Users/andycoenen/cannoneyed/cococonet/src/components/key-signatures.tsx"),l.register(H,"KeySignatures","/Users/andycoenen/cannoneyed/cococonet/src/components/key-signatures.tsx")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&u(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";o.r(t);var n=o(63);o.d(t,"default",function(){return n.default})},function(e,t,o){"use strict";o.r(t);var n=o(64);o.d(t,"default",function(){return n.default})},function(e,t,o){"use strict";o.r(t);var n=o(65);o.d(t,"default",function(){return n.default})},function(e,t,o){"use strict";o.r(t);var n=o(66);o.d(t,"default",function(){return n.default})},function(e,t,o){"use strict";o.r(t);var n=o(67);o.d(t,"default",function(){return n.default})},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l,u,d=s(o(3)),f=o(5),p=o(7),y=o(4),h=o(109),g=o(110),m=o(111),v=o(13),b=o(112),_=o(113),S=o(114),E=o(116),O=o(117),L=s(o(9)),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.componentDidMount=function(){setTimeout(function(){return y.layout.computeEditorHeight()})},t.prototype.render=function(){var e=y.layout.noteHeight,t=y.layout.pianoRollWidth,o=y.layout.maskLanesHeight,n=y.layout.editorWidth,r=y.layout.editorHeight,a=y.layout.notesWidth,c=y.layout.notesHeight,i=y.layout.loopHandleHeight,s=y.editor.selectedTool===y.EditorTool.MASK,l=p.style({flexGrow:1,maxHeight:1e3});return d.default.createElement("div",{id:"editor-container",className:l},r>0?d.default.createElement("svg",{width:n,height:r},d.default.createElement(g.Filters,null),d.default.createElement(v.Group,{x:t},d.default.createElement(E.LoopHandles,{width:a,height:i})),L.default.baseline?null:d.default.createElement(v.Group,{y:y.layout.maskLanesY},d.default.createElement(_.MaskLanes,{width:a,height:o,labelWidth:t})),d.default.createElement(v.Group,{y:y.layout.notesY,onMouseLeave:function(){return y.editor.setNoteHoverName(null)}},d.default.createElement(h.PianoRoll,{width:t,height:c,noteHeight:e}),d.default.createElement(v.Group,{x:t},d.default.createElement(m.Grid,{width:a,noteHeight:e}),d.default.createElement(S.Notes,{width:a,noteHeight:e}))),d.default.createElement(v.Group,{x:t,y:i},d.default.createElement(b.LoopOverlay,{width:a,height:c+o}),">"),d.default.createElement(v.Group,{y:y.layout.notesY,x:t},s&&d.default.createElement(O.MasksSelect,{width:a,height:c}))):null)},t=i([f.observer],t)}(d.default.Component);t.Editor=M,(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(l.register(c,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/components/editor.tsx"),l.register(i,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/components/editor.tsx"),l.register(s,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/editor.tsx"),l.register(d,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/editor.tsx"),l.register(L,"feature_flags_1","/Users/andycoenen/cannoneyed/cococonet/src/components/editor.tsx"),l.register(M,"Editor","/Users/andycoenen/cannoneyed/cococonet/src/components/editor.tsx")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&u(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var d=l(o(3)),f=o(7),p=o(5),y=o(4),h=o(14),g=u(o(10)),m=o(12),v=l(o(24)),b=o(13),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.noteHeight,o=e.width;return d.default.createElement("g",{y:0,width:o,onMouseEnter:function(){document.body.style.cursor="pointer"},onMouseLeave:function(){document.body.style.cursor="default"}},y.editor.scale.map(function(e,n){var r={scaleValue:e,index:n,height:t,width:o};return d.default.createElement(O,i({},r))}))},t=s([p.observer],t)}(d.default.Component);t.PianoRoll=_;var S,E,O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.width,o=e.height,n=e.index,r=e.scaleValue,a=o*n,c=y.editor.activeNoteValue===r.pitch,i=1===r.name.length?"white":"black";i=c?h.COLOR_PLAYING:i;var s=c?0:.5,l=f.style({transition:"fill "+s+"s",fill:i,stroke:"#CCC",strokeWidth:1}),u=y.editor.isPitchInScale(r.pitch),p=y.editor.key===r.name?v.default[600]:v.default[200];return d.default.createElement(b.Group,{x:0,y:a},d.default.createElement("rect",{key:n,className:l,width:t,height:o,onMouseDown:function(e){e.preventDefault();var t=new m.Note(r.pitch,0,.2);y.player.playNoteDown(t);document.addEventListener("mouseup",function(){y.player.playNoteUp(t)}),g.default.logEvent(g.Events.PRESS_PIANOROLL)},onMouseEnter:function(){y.editor.setNoteHoverName(r)}}),u&&d.default.createElement("rect",{x:t-5,y:0,width:5,height:o,fill:p}))},t=s([p.observer],t)}(d.default.Component);(S=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(S.register(c,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/components/piano-roll.tsx"),S.register(i,"__assign","/Users/andycoenen/cannoneyed/cococonet/src/components/piano-roll.tsx"),S.register(s,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/components/piano-roll.tsx"),S.register(l,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/piano-roll.tsx"),S.register(u,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/components/piano-roll.tsx"),S.register(d,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/piano-roll.tsx"),S.register(g,"logging_1","/Users/andycoenen/cannoneyed/cococonet/src/components/piano-roll.tsx"),S.register(v,"blue_1","/Users/andycoenen/cannoneyed/cococonet/src/components/piano-roll.tsx"),S.register(_,"PianoRoll","/Users/andycoenen/cannoneyed/cococonet/src/components/piano-roll.tsx"),S.register(O,"Key","/Users/andycoenen/cannoneyed/cococonet/src/components/piano-roll.tsx")),(E=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&E(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i,s,l=c(o(3)),u=o(6),d=o(14),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){return l.default.createElement(l.default.Fragment,null,l.default.createElement("defs",null,l.default.createElement("pattern",{id:"diagonal-stripe",patternUnits:"userSpaceOnUse",width:"8",height:"8"},l.default.createElement("path",{d:"M-2,2 l4,-4\n           M0,8 l8,-8\n           M6,10 l4,-4",style:{stroke:"white",strokeWidth:2}}))),u.VOICES.map(function(e,t){var o=e.toLowerCase(),n=d.VOICE_COLORS[t];return l.default.createElement("defs",null,l.default.createElement("filter",{id:"glow-"+o,x:"-5000%",y:"-5000%",width:"10000%",height:"10000%"},l.default.createElement("feFlood",{result:"flood","flood-color":""+n,"flood-opacity":"1"}),l.default.createElement("feComposite",{in:"flood",result:"mask",in2:"SourceGraphic",operator:"in"}),l.default.createElement("feMorphology",{in:"mask",result:"dilated",operator:"dilate",radius:"2"}),l.default.createElement("feGaussianBlur",{in:"dilated",result:"blurred",stdDeviation:"5"}),l.default.createElement("feMerge",null,l.default.createElement("feMergeNode",{in:"blurred"}),l.default.createElement("feMergeNode",{in:"SourceGraphic"}))))}))},t}(l.default.Component);t.Filters=f,(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(i.register(a,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/components/filters.tsx"),i.register(c,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/filters.tsx"),i.register(l,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/filters.tsx"),i.register(f,"Filters","/Users/andycoenen/cannoneyed/cococonet/src/components/filters.tsx")),(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&s(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l,u,d=s(o(3)),f=o(5),p=o(11),y=o(7),h=s(o(24)),g=o(15),m=o(4),v=o(6),b=o(13),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.renderDivision=function(e){var t=this.props.width/m.editor.totalSixteenths*e,o=this.props.noteHeight*m.editor.scale.length,n=e%16==0,r=n?"#494949":"#555",a=n?2:1;return d.default.createElement("line",{key:e,x1:t,y1:0,x2:t,y2:o,stroke:r,strokeWidth:a})},t.prototype.renderNoteGrid=function(e,t){var o=this,n=p.range(m.editor.nDivisions),r=this.props,a=r.width,c=r.noteHeight,i=c*t,s=a/m.editor.nDivisions;return d.default.createElement(b.Group,{key:t,x:0,y:i},n.map(function(n){var r=o.props.width/m.editor.nDivisions*n,a=m.editor.isPitchInScale(e.pitch),i=m.editor.key===e.name,l=a?i?h.default[500]:h.default[400]:"white",u=i?.25:.12,f=l;return d.default.createElement("rect",{key:n,x:r,y:0,width:s,height:c,stroke:f,opacity:u,fill:l,strokeWidth:1,onMouseDown:m.interactions.handleGridMouseDown(t,n),onMouseEnter:function(){m.editor.setNoteHoverName(e)}})}))},t.prototype.render=function(){var e=this,t=y.style({cursor:m.editor.selectedTool===g.EditorTool.ERASE?"context-menu":"default"});return d.default.createElement("g",{id:"editor-grid",className:t},m.editor.scale.map(function(t,o){return e.renderNoteGrid(t,o)}),v.DIVISIONS.map(function(t){return e.renderDivision(t)}))},t=i([f.observer],t)}(d.default.Component);t.Grid=_,(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(l.register(c,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/components/grid.tsx"),l.register(i,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/components/grid.tsx"),l.register(s,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/grid.tsx"),l.register(d,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/grid.tsx"),l.register(h,"blue_1","/Users/andycoenen/cannoneyed/cococonet/src/components/grid.tsx"),l.register(_,"Grid","/Users/andycoenen/cannoneyed/cococonet/src/components/grid.tsx")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&u(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l,u,d=s(o(3)),f=o(5),p=o(4),y=o(13),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.width,o=e.height,n=t/p.editor.totalSixteenths*p.player.loopStart-1,r=t/p.editor.totalSixteenths*p.player.loopEnd-1,a={pointerEvents:"none"};return d.default.createElement(y.Group,null,d.default.createElement("rect",{key:"loop-border-left",x:0,y:0,height:o,width:Math.max(n,0),fill:"black",fillOpacity:.1,style:a}),d.default.createElement("rect",{key:"loop-border-right",x:r,y:0,height:o,width:Math.max(t-r,0),fill:"black",fillOpacity:.1,style:a}))},t=i([f.observer],t)}(d.default.Component);t.LoopOverlay=h,(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(l.register(c,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/components/loop-overlay.tsx"),l.register(i,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/components/loop-overlay.tsx"),l.register(s,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/loop-overlay.tsx"),l.register(d,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/loop-overlay.tsx"),l.register(h,"LoopOverlay","/Users/andycoenen/cannoneyed/cococonet/src/components/loop-overlay.tsx")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&u(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var u,d,f=s(o(3)),p=l(o(11)),y=o(5),h=o(4),g=o(14),m=o(13),v=["S","A","T","B"],b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.renderLabels=function(){var e=this.props,t=e.height,o=e.labelWidth;return p.range(4).map(function(e){var n=t/4,r=e*n,a=h.editor.isVoiceMuted(e)?g.MUTED_COLOR:g.VOICE_COLORS[e];return f.default.createElement("g",{key:"label_"+e,className:"mask-lane-label",onClick:function(t){h.editor.toggleVoiceMute(e)}},f.default.createElement("rect",{x:1,y:r+1,height:n-2,width:o-2,fillOpacity:0,stroke:g.COLOR_PRIMARY,strokeWidth:.5,rx:"3"}),f.default.createElement("text",{x:h.layout.pianoRollWidth/2-6,y:r+16,height:n,width:o,fill:a},v[e]))})},t.prototype.renderLanes=function(){var e=this.props,t=e.height,o=e.width,n=t/4;return p.range(4).map(function(e){var t=e*n,r=h.editor.isVoiceMuted(e)?g.MUTED_COLOR:g.VOICE_COLORS[e],a=h.generator.candidateSequences.length>0,c=h.interactions.handleMaskLaneMouseDown(e,a);return f.default.createElement("rect",{key:"lane_"+e,x:0,y:t,height:n,width:o,fill:r,fillOpacity:a?.6:1,onMouseDown:c})})},t.prototype.renderMasks=function(){var e=this.props,t=e.height,o=e.width,n=t/4;return p.range(4).map(function(e){var t=h.masks.userMasks[e],r=e*n,a=[],c=null;return t.forEach(function(e,o){var n=o>0&&t[o-1]===e-1;if(!c||!n)return c={start:e,end:e},void a.push(c);c.end=e}),a.map(function(t,a){var c=o/h.editor.totalSixteenths*t.start,i=o/h.editor.totalSixteenths*(t.end-t.start+1),s=p.range(t.start,t.end+1),l=h.generator.candidateSequences.length>0,u=h.interactions.handleMaskRectClick(e,s,l),d=h.editor.isVoiceMuted(e)?g.MUTED_COLOR:g.VOICE_COLORS[e];return f.default.createElement(f.default.Fragment,null,l?f.default.createElement("rect",{x:c,y:r,height:n,width:i,fill:d}):null,f.default.createElement("rect",{key:"lane_"+e+"_mask_"+a,x:c+2,y:r+2,height:n-4,width:i-4,stroke:"white",strokeWidth:2,fill:"url(#diagonal-stripe)",fillOpacity:.75,onClick:u,cursor:l?"pointer":"default"}))})})},t.prototype.render=function(){var e=this.props.labelWidth;return f.default.createElement(m.Group,null,this.renderLabels(),f.default.createElement(m.Group,{x:e},this.renderLanes()),f.default.createElement(m.Group,{x:e},this.renderMasks()))},t=i([y.observer],t)}(f.default.Component);t.MaskLanes=b,(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(u.register(c,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/components/mask-lanes.tsx"),u.register(i,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/components/mask-lanes.tsx"),u.register(s,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/mask-lanes.tsx"),u.register(l,"__importStar","/Users/andycoenen/cannoneyed/cococonet/src/components/mask-lanes.tsx"),u.register(f,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/mask-lanes.tsx"),u.register(p,"_","/Users/andycoenen/cannoneyed/cococonet/src/components/mask-lanes.tsx"),u.register(v,"VOICE_INITIALS","/Users/andycoenen/cannoneyed/cococonet/src/components/mask-lanes.tsx"),u.register(b,"MaskLanes","/Users/andycoenen/cannoneyed/cococonet/src/components/mask-lanes.tsx")),(d=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&d(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u,d,f=l(o(3)),p=o(5),y=o(4),h=o(13),g=o(115),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.getNoteProps=function(e){var t=this.props,o=t.noteHeight,n=t.width/y.editor.totalSixteenths,r=o*(y.editor.scaleMax-e.pitch);return{x:e.position*n,y:r,height:o,width:e.duration*n,isMuted:y.editor.isVoiceMuted(e.voice)}},t.prototype.render=function(){var e=this;return f.default.createElement(h.Group,null,y.editor.allNotes.map(function(t){return f.default.createElement(g.Note,i({key:t.id,note:t},e.getNoteProps(t)))}))},t=s([p.observer],t)}(f.default.Component);t.Notes=m,(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(u.register(c,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/components/notes.tsx"),u.register(i,"__assign","/Users/andycoenen/cannoneyed/cococonet/src/components/notes.tsx"),u.register(s,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/components/notes.tsx"),u.register(l,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/notes.tsx"),u.register(f,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/notes.tsx"),u.register(m,"Notes","/Users/andycoenen/cannoneyed/cococonet/src/components/notes.tsx")),(d=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&d(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(o(3)),d=o(7),f=o(5),p=o(15),y=o(4),h=o(6),g=o(14);function m(e,t){var o=e.isPlaying;return t?g.MUTED_COLOR:o?g.COLOR_PLAYING:g.VOICE_COLORS[e.voice]}var v,b,_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.isMuted,o=e.note,n=e.width,r=e.height,a=e.x,c=e.y,s=m(o,t),l=o.isPlaying?0:.5,f=d.style({transition:"fill "+l+"s",fill:s,stroke:"#ddd",strokeWidth:1,cursor:y.editor.selectedTool===p.EditorTool.ERASE?"context-menu":"default"}),g="url(#glow-"+h.VOICES[o.voice].toLowerCase()+")",v=y.masks.isNoteMasked(o)?g:null,b={x:a+1,y:c+1,width:n-2,height:r-2};return u.default.createElement(u.default.Fragment,null,u.default.createElement("rect",i({key:o.id+"-glow",filter:v},b)),u.default.createElement("rect",i({key:o.id,className:f},b,{height:r-2,onMouseDown:y.interactions.handleNoteMouseDown(o),onMouseMove:y.interactions.handleNoteHover(o)})))},t=s([f.observer],t)}(u.default.Component);t.Note=_,(v=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(v.register(c,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/components/note.tsx"),v.register(i,"__assign","/Users/andycoenen/cannoneyed/cococonet/src/components/note.tsx"),v.register(s,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/components/note.tsx"),v.register(l,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/note.tsx"),v.register(u,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/note.tsx"),v.register(m,"getFillColor","/Users/andycoenen/cannoneyed/cococonet/src/components/note.tsx"),v.register(1,"NOTE_BORDER","/Users/andycoenen/cannoneyed/cococonet/src/components/note.tsx"),v.register(_,"Note","/Users/andycoenen/cannoneyed/cococonet/src/components/note.tsx")),(b=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&b(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(o(3)),u=o(5),d=o(13),f=o(4),p=o(14);function y(e){return e.map(function(e){return e.join(",")}).join(" ")}var h,g,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.width,o=e.height,n=t/f.editor.totalSixteenths*f.player.loopStart,r=t/f.editor.totalSixteenths*f.player.loopEnd,a=f.layout.sixteenthWidth/2,c=[[n,0],[n+a,o/2],[n,o]],i=[[r,0],[r-a,o/2],[r,o]];return l.default.createElement(d.Group,null,l.default.createElement("rect",{key:"loopRegion",x:n,y:o/2-1,height:3,width:r-n,fill:p.COLOR_TIMELINE_RANGE}),l.default.createElement("polygon",{key:"loopStart",points:y(c),fill:p.COLOR_TIMELINE_HANDLE,onMouseDown:f.interactions.handleLoopStartMouseDown}),l.default.createElement("polygon",{key:"loopEnd",points:y(i),fill:p.COLOR_TIMELINE_HANDLE,onMouseDown:f.interactions.handleLoopEndMouseDown}))},t=i([u.observer],t)}(l.default.Component);t.LoopHandles=m,(h=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(h.register(c,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/components/loop-handles.tsx"),h.register(i,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/components/loop-handles.tsx"),h.register(s,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/loop-handles.tsx"),h.register(l,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/loop-handles.tsx"),h.register(y,"toSVGPoints","/Users/andycoenen/cannoneyed/cococonet/src/components/loop-handles.tsx"),h.register(m,"LoopHandles","/Users/andycoenen/cannoneyed/cococonet/src/components/loop-handles.tsx")),(g=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&g(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l,u,d=s(o(3)),f=o(5),p=o(7),y=o(4),h=o(13),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.renderDragRect=function(){var e=y.interactions.maskToolDragStartXY,t=y.interactions.maskToolDragXY,o=t[0]-e[0],n=t[1]-e[1],r=o>=0?e[0]:t[0],a=n>=0?e[1]:t[1],c=Math.abs(o),i=Math.abs(n);return d.default.createElement("rect",{x:r,y:a,width:c,height:i,style:{stroke:"#AAAAAA",strokeWidth:2,strokeDasharray:"10 5",fill:"#DDDDDD",fillOpacity:.2}})},t.prototype.render=function(){var e=this.props,t=e.width,o=e.height,n=p.style({cursor:"crosshair"});return d.default.createElement(h.Group,null,d.default.createElement("rect",{width:t,height:o,fillOpacity:0,onMouseDown:y.interactions.handleMaskToolMouseDown,className:n}),y.interactions.isMaskToolDragging&&this.renderDragRect())},t=i([f.observer],t)}(d.default.Component);t.MasksSelect=g,(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(l.register(c,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/components/masks-select.tsx"),l.register(i,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/components/masks-select.tsx"),l.register(s,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/masks-select.tsx"),l.register(d,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/masks-select.tsx"),l.register(g,"MasksSelect","/Users/andycoenen/cannoneyed/cococonet/src/components/masks-select.tsx")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&u(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},s=this&&this.__read||function(e,t){var o="function"==typeof Symbol&&e[Symbol.iterator];if(!o)return e;var n,r,a=o.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return c},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=l(o(3)),d=l(o(11)),f=o(7),p=o(5),y=o(49),h=l(o(18)),g=l(o(17)),m=l(o(119)),v=l(o(19)),b=l(o(21)),_=l(o(20)),S=o(38),E=o(4),O=o(10),L=o(120),M=o(6);o(121);var N=l(o(9));function H(e){var t=M.MAX_PITCH,o=M.MIN_PITCH;return e.forEach(function(e){e.notes.forEach(function(e){t=Math.min(e.pitch,t),o=Math.max(e.pitch,o)})}),[t,o]}function k(e){var t=M.TOTAL_SIXTEENTHS,o=0;return e.forEach(function(e){e.notes.forEach(function(e){t=Math.min(e.start,t),o=Math.max(e.end,o)})}),[t,o]}var x=f.style({}),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.renderSequences=function(){var e=E.generator.candidateSequences,t=s(H(e),2),o=t[0],n=t[1],r=s(k(e),2),a=r[0],c=r[1];return u.default.createElement("div",{className:"sequences-container"},e.map(function(e,t){return u.default.createElement(L.Sequence,{key:t,title:0===t?"original":"",notes:e.notes,maxPitch:n,minPitch:o,maxPosition:c,minPosition:a,isSelected:E.generator.selectedCandidateSequenceIndex===t,onSelect:function(){return E.generator.selectCandidateSequence(t)}})}))},t.prototype.render=function(){var e=N.default.baseline,t=!E.generator.isModelLoaded||E.generator.isWorking,o=(e?!E.masks.doAnyMasksExist:!E.masks.doUserMasksExist)||t,n=f.style({margin:"5px 0 15px",width:"100%"}),r=!e&&E.generator.candidateSequences.length>0,a=E.masks.maskedNotes.length>0,c=!!(E.generator.selectedCandidateSequenceIndex>0)||a;return u.default.createElement("div",{className:"container"},u.default.createElement(h.default,{disabled:o,variant:"outlined",color:"primary",onClick:function(){E.generator.generate()}},"🤖 Generate",u.default.createElement(S.MusicNote,null)),e?null:u.default.createElement(v.default,{classes:{root:n}},u.default.createElement(b.default,{value:E.generator.nSequencesToGenerate,onChange:function(e){var t=e.target.value;null!==t&&E.generator.setNSequencesToGenerate(Number(t))},disabled:e,autoWidth:!0},u.default.createElement(_.default,{value:1},"1 sequence"),u.default.createElement(_.default,{value:2},"2 sequences"),u.default.createElement(_.default,{value:3},"3 sequences"),u.default.createElement(_.default,{value:4},"4 sequences"))),e?null:u.default.createElement(u.default.Fragment,null,u.default.createElement(G,{value:E.generator.conventionalSurprising,onChange:function(e){return E.generator.setConventionalSurprising(e)},onChangeCommitted:function(){E.logging.logEvent(O.Events.SET_CONVENTIONAL_SURPRISING,E.generator.conventionalSurprising)},range:[M.MIN_SURPRISE_FACTOR,M.MAX_SURPRISE_FACTOR],labels:["Conventional","Surprising"],nMarks:3}),u.default.createElement(G,{value:E.generator.majorMinor,onChange:function(e){return E.generator.setMajorMinor(e)},onChangeCommitted:function(){E.logging.logEvent(O.Events.SET_MAJOR_MINOR,E.generator.majorMinor)},range:[M.MIN_HAPPY_SAD_FACTOR,M.MAX_HAPPY_SAD_FACTOR],labels:["😢 Minor","Major 😊"],nMarks:3}),u.default.createElement(G,{value:E.generator.differenceFromOriginal,onChange:function(e){return E.generator.setDifferenceFromOriginal(e)},onChangeCommitted:function(){E.logging.logEvent(O.Events.SET_SIMILAR_DIFFERENT,E.generator.differenceFromOriginal)},range:[M.MIN_DIFFERENCE_FACTOR,M.MAX_DIFFERENCE_FACTOR],labels:["Similar","Different"],disabled:!c,nMarks:3})),r&&u.default.createElement(u.default.Fragment,null,this.renderSequences(),u.default.createElement(h.default,{variant:"outlined",color:"primary",onClick:function(){return E.generator.commitSelectedCandidateSequence()}},"Choose")))},t=i([p.observer],t)}(u.default.Component);t.Generate=T;var U,P,D=y.withStyles({mark:{backgroundColor:"#bfbfbf",height:8,width:4,marginTop:-3,marginLeft:-2},markActive:{backgroundColor:"currentColor"}})(m.default);function G(e){var t=e.disabled?"textSecondary":"textPrimary",o=e.range[1]-e.range[0],n=d.default.range(e.nMarks).map(function(t){return{value:e.range[0]+o/(e.nMarks-1)*t}});return u.default.createElement("div",{className:"horizontal-slider"},u.default.createElement(D,{value:e.value,onChange:function(t,o){"number"==typeof o&&e.onChange(o)},onChangeCommitted:function(t,o){e.onChangeCommitted(o)},step:.1,valueLabelDisplay:"off",min:e.range[0],max:e.range[1],disabled:e.disabled,marks:n}),u.default.createElement("div",{className:"slider-label"},u.default.createElement(g.default,{variant:"caption",color:t},e.labels[0]),u.default.createElement(g.default,{variant:"caption",color:t},e.labels[1])))}G.defaultProps={enabled:!0,onChangeCommitted:function(){}},(U=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(U.register(c,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(i,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(s,"__read","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(l,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(u,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(d,"lodash_1","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(h,"Button_1","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(g,"Typography_1","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(m,"Slider_1","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(v,"FormControl_1","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(b,"Select_1","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(_,"MenuItem_1","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(N,"feature_flags_1","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(H,"getPitchRange","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(k,"getPositionRange","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(x,"horizontalSliderStyle","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(T,"Generate","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(D,"MarkedSlider","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx"),U.register(G,"ParameterSlider","/Users/andycoenen/cannoneyed/cococonet/src/components/generate.tsx")),(P=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&P(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";o.r(t);var n=o(69);o.d(t,"default",function(){return n.default})},function(e,t,o){"use strict";(function(e){var n;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var a,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(c<3?a(i):c>3?a(t,o,i):a(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l,u,d=s(o(3)),f=o(5),p=o(7),y=o(4),h=o(14),g=o(13),m=o(4),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.renderNotes=function(){var e=this.props,t=e.minPitch,o=e.maxPitch,n=e.minPosition,r=e.maxPosition,a=e.notes,c=o-t,i=r-n,s=y.layout.sequenceHeight-16,l=s/Math.max(c,12),u=100/Math.max(i,4);return d.default.createElement(g.Group,{x:4,y:4},a.map(function(e){var o=(e.position-n)*u,r=s-(e.pitch-t)*l,a=m.editor.isVoiceMuted(e.voice)?h.MUTED_COLOR:h.VOICE_COLORS[e.voice];return d.default.createElement("rect",{key:e.id,x:o+"%",y:r,height:l,width:u*e.duration+"%",fill:a})}))},t.prototype.render=function(){var e=this.props,t=e.isSelected,o=e.notes,n=e.onSelect,r=0===o.length,a=t?"2px solid "+h.COLOR_SELECTED:"1px solid gray",c=p.style({fontFamily:"Roboto",backgroundColor:"rgba(0,0,0,0.2)"});return d.default.createElement("svg",{width:"100%",height:y.layout.sequenceHeight,style:{border:a,marginBottom:10,boxSizing:"border-box"},onClick:n},!r&&this.renderNotes(),d.default.createElement("text",{x:6,y:20,className:c},this.props.title))},t=i([f.observer],t)}(d.default.Component);t.Sequence=v,(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(l.register(c,"__extends","/Users/andycoenen/cannoneyed/cococonet/src/components/sequence.tsx"),l.register(i,"__decorate","/Users/andycoenen/cannoneyed/cococonet/src/components/sequence.tsx"),l.register(s,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/sequence.tsx"),l.register(d,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/sequence.tsx"),l.register(12,"MIN_PITCH_RANGE","/Users/andycoenen/cannoneyed/cococonet/src/components/sequence.tsx"),l.register(4,"MIN_POSITION_RANGE","/Users/andycoenen/cannoneyed/cococonet/src/components/sequence.tsx"),l.register(v,"Sequence","/Users/andycoenen/cannoneyed/cococonet/src/components/sequence.tsx")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&u(e)}).call(this,o(2)(e))},function(e,t,o){var n=o(122);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(71)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,o){(e.exports=o(70)(!1)).push([e.i,".container {\n  padding: 0 10px;\n  display: flex;\n  flex-direction: column;\n}\n\n.slider-label {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-top: -12px;\n}\n\n.sequences-container {\n  margin-top: 10px;\n  display: flex;\n  flex-direction: column;\n}\n\n.horizontal-slider {\n  margin-bottom: 3px;\n}\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,n=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(r=0===a.indexOf("//")?a:0===a.indexOf("/")?o+a:n+a.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,o){"use strict";(function(e){var n;(n=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).enterModule)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,c,i=r(o(3)),s=o(7),l=r(o(125)),u=r(o(61)),d=r(o(17));function f(e){var t=e.open,o=(e.title,s.style({width:200,height:160,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"}));return i.default.createElement(u.default,{open:t},i.default.createElement("div",{className:o},i.default.createElement(d.default,{variant:"h6",color:"inherit"},"🤖 Working...")," ",i.default.createElement(l.default,{color:"secondary"})))}t.Working=f,(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).default)&&(a.register(r,"__importDefault","/Users/andycoenen/cannoneyed/cococonet/src/components/working.tsx"),a.register(i,"react_1","/Users/andycoenen/cannoneyed/cococonet/src/components/working.tsx"),a.register(l,"CircularProgress_1","/Users/andycoenen/cannoneyed/cococonet/src/components/working.tsx"),a.register(u,"Dialog_1","/Users/andycoenen/cannoneyed/cococonet/src/components/working.tsx"),a.register(d,"Typography_1","/Users/andycoenen/cannoneyed/cococonet/src/components/working.tsx"),a.register(f,"Working","/Users/andycoenen/cannoneyed/cococonet/src/components/working.tsx")),(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:o(0)).leaveModule)&&c(e)}).call(this,o(2)(e))},function(e,t,o){"use strict";o.r(t);var n=o(72);o.d(t,"default",function(){return n.default})},function(e,t,o){var n=o(127);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o(71)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,o){(e.exports=o(70)(!1)).push([e.i,'/* Copyright 2019 Google LLC. All Rights Reserved.\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n==============================================================================*/\n\nbody {\n  margin: 0;\n  padding: 0;\n}\n\nbody,\nhtml {\n  height: 100%;\n}\n\n#root {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.mask-lane-label {\n  font-family: Arial, Helvetica, sans-serif;\n  cursor: pointer;\n  user-select: none;\n}\n\n#sheets-logging {\n  display: none;\n}\n',""])},function(e,t,o){"use strict";o.r(t);var n=o(141),r=o(142),a=o(143),c=o(144),i=o(145),s=o(146),l=o(25),u=o(73),d=o(74),f=o(3),p=o.n(f),y=o(75),h=o(147),g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u.default)(this,e),this.options=t}return Object(d.default)(e,[{key:"collect",value:function(e){var t=new Map;this.sheetsRegistry=new y.SheetsRegistry;var o=Object(n.default)();return p.a.createElement(h.default,Object(l.default)({sheetsManager:t,serverGenerateClassName:o,sheetsRegistry:this.sheetsRegistry},this.options),e)}},{key:"toString",value:function(){return this.sheetsRegistry?this.sheetsRegistry.toString():""}},{key:"getStyleElement",value:function(e){return p.a.createElement("style",Object(l.default)({id:"jss-server-side",key:"jss-server-side",dangerouslySetInnerHTML:{__html:this.toString()}},e))}}]),e}(),m=o(148),v=o(149),b=o(150),_=o(151),S=o(152);o.d(t,"createGenerateClassName",function(){return n.default}),o.d(t,"createStyles",function(){return r.default}),o.d(t,"getThemeProps",function(){return a.default}),o.d(t,"jssPreset",function(){return c.default}),o.d(t,"makeStyles",function(){return i.default}),o.d(t,"mergeClasses",function(){return s.default}),o.d(t,"ServerStyleSheets",function(){return g}),o.d(t,"styled",function(){return m.default}),o.d(t,"StylesProvider",function(){return h.default}),o.d(t,"ThemeProvider",function(){return v.default}),o.d(t,"useTheme",function(){return b.default}),o.d(t,"withStyles",function(){return _.default}),o.d(t,"withTheme",function(){return S.default}),o.d(t,"withThemeCreator",function(){return S.withThemeCreator})},,,,,,,,,,,,,function(e,t,o){e.exports=o(1)(5915)},function(e,t,o){e.exports=o(1)(5912)},function(e,t,o){e.exports=o(1)(212)},function(e,t,o){e.exports=o(1)(5608)},function(e,t,o){e.exports=o(1)(210)},function(e,t,o){e.exports=o(1)(211)},function(e,t,o){e.exports=o(1)(5914)},function(e,t,o){e.exports=o(1)(5917)},function(e,t,o){e.exports=o(1)(5916)},function(e,t,o){e.exports=o(1)(92)},function(e,t,o){e.exports=o(1)(5918)},function(e,t,o){e.exports=o(1)(5919)}]);
//# sourceMappingURL=bundle.9223b775b324b51f4f6f.min.js.map